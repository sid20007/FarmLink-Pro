<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AgriConnect | Professional Farmer Suite</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                        display: ['"Outfit"', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                            950: '#052e16',
                        },
                        earth: {
                            50: '#fbfaf8',
                            100: '#f5f2eb',
                            200: '#e6e0d4',
                            800: '#5c5245',
                        },
                        accent: {
                            500: '#f59e0b',
                            600: '#d97706',
                        },
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'glow': '0 0 20px rgba(34, 197, 94, 0.25)',
                        'card': '0 10px 30px -5px rgba(0,0,0,0.06)',
                        'depth': '0 20px 40px -10px rgba(22, 101, 52, 0.15)',
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                }
            }
        }
    </script>
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        body {
            background-color: #fbfaf8; /* Warm Earth Tone */
            -webkit-tap-highlight-color: transparent;
        }
        .glass {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.04);
        }
        .glass-dark {
            background: rgba(20, 83, 45, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-item {
            position: relative;
            overflow: hidden;
        }
        .nav-active {
            background-color: #15803d;
            color: white;
            box-shadow: 0 4px 12px rgba(21, 128, 61, 0.25);
        }
        /* Smooth Fade In */
        .view-section {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        .view-section.active { display: block; }
        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }
        /* Toast Animation */
        #toast {
            visibility: hidden;
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        .custom-pattern {
            background-image: radial-gradient(#166534 0.5px, transparent 0.5px), radial-gradient(#166534 0.5px, #fbfaf8 0.5px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            opacity: 0.03;
        }
    </style>
</head>
<body class="text-slate-800 antialiased pb-28 md:pb-12 relative">
    <!-- Background Texture -->
    <div class="fixed inset-0 custom-pattern pointer-events-none z-[-1]"></div>
    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-24 md:bottom-10 left-1/2 z-[100] flex items-center gap-3 bg-slate-900/95 backdrop-blur text-white px-6 py-4 rounded-2xl shadow-depth min-w-[300px] border border-white/10">
        <div class="w-8 h-8 bg-brand-500 rounded-full flex items-center justify-center text-slate-900 shrink-0">
            <i class="fa-solid fa-check"></i>
        </div>
        <div>
            <h4 class="font-bold text-sm tracking-wide" id="toast-title">Success</h4>
            <p class="text-xs text-slate-400 font-medium" id="toast-msg">Action completed successfully.</p>
        </div>
    </div>
    <!-- Header -->
    <header class="fixed top-0 w-full z-50 glass transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 h-20 flex items-center justify-between">
            <!-- Logo -->
            <div class="flex items-center gap-3 cursor-pointer group" onclick="switchTab('dashboard')">
                <div class="w-11 h-11 bg-gradient-to-br from-brand-700 to-brand-900 rounded-xl flex items-center justify-center text-white shadow-lg shadow-brand-900/20 group-hover:scale-105 transition-transform duration-300">
                    <i class="fa-solid fa-wheat-awn text-xl"></i>
                </div>
                <div>
                    <h1 class="font-display font-bold text-xl leading-none text-slate-900 tracking-tight">AgriConnect</h1>
                    <span class="text-[10px] font-bold text-brand-700 uppercase tracking-[0.2em]" data-translate="app_subtitle">Farmer Suite</span>
                </div>
            </div>
            <!-- Desktop Nav -->
            <nav class="hidden md:flex bg-earth-100/50 p-1.5 rounded-2xl border border-earth-200/60 backdrop-blur-sm">
                <button onclick="switchTab('dashboard')" id="nav-dashboard" class="nav-item px-6 py-2.5 rounded-xl text-sm font-bold text-slate-600 transition-all hover:bg-white hover:text-brand-800 nav-active">
                    <i class="fa-solid fa-grid-2 mr-2 opacity-70"></i><span data-translate="nav_dashboard">Dashboard</span>
                </button>
                <button onclick="switchTab('marketplace')" id="nav-marketplace" class="nav-item px-6 py-2.5 rounded-xl text-sm font-bold text-slate-600 transition-all hover:bg-white hover:text-brand-800">
                    <i class="fa-solid fa-shop mr-2 opacity-70"></i><span data-translate="nav_market">Market</span>
                </button>
                <button onclick="switchTab('analytics')" id="nav-analytics" class="nav-item px-6 py-2.5 rounded-xl text-sm font-bold text-slate-600 transition-all hover:bg-white hover:text-brand-800">
                    <i class="fa-solid fa-clipboard-list mr-2 opacity-70"></i><span data-translate="nav_orders">Orders</span>
                </button>
                <button onclick="switchTab('profile')" id="nav-profile" class="nav-item px-6 py-2.5 rounded-xl text-sm font-bold text-slate-600 transition-all hover:bg-white hover:text-brand-800">
                    <i class="fa-solid fa-user-circle mr-2 opacity-70"></i><span data-translate="nav_profile">Farm Profile</span>
                </button>
            </nav>
            <!-- User Actions -->
            <div class="flex items-center gap-2 md:gap-4">
                <!-- Language Selector (Mobile Friendly) -->
                <div class="relative">
                    <button onclick="toggleLangMenu(event)" id="lang-btn" class="flex items-center gap-1 md:gap-2 bg-white border border-earth-200 text-slate-600 px-2 md:px-3 py-2 rounded-xl text-xs font-bold hover:bg-earth-50 transition-colors focus:outline-none active:bg-earth-100">
                        <i class="fa-solid fa-language text-brand-600 text-base"></i>
                        <span id="current-lang-label" class="hidden md:inline">English</span>
                        <i class="fa-solid fa-chevron-down text-[10px] transition-transform duration-200" id="lang-arrow"></i>
                    </button>
                    <!-- Dropdown Menu -->
                    <div id="lang-menu" class="absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-xl border border-earth-100 overflow-hidden hidden z-[100] transform origin-top-right transition-all">
                        <button onclick="changeLanguage('en')" class="w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-brand-50 hover:text-brand-700 transition-colors border-b border-slate-50 flex justify-between items-center group">
                            English <i class="fa-solid fa-check text-brand-600 opacity-0 group-[.active-lang]:opacity-100" id="check-en"></i>
                        </button>
                        <button onclick="changeLanguage('hi')" class="w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-brand-50 hover:text-brand-700 transition-colors border-b border-slate-50 flex justify-between items-center group">
                            ‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi) <i class="fa-solid fa-check text-brand-600 opacity-0 group-[.active-lang]:opacity-100" id="check-hi"></i>
                        </button>
                        <button onclick="changeLanguage('mr')" class="w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-brand-50 hover:text-brand-700 transition-colors border-b border-slate-50 flex justify-between items-center group">
                            ‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi) <i class="fa-solid fa-check text-brand-600 opacity-0 group-[.active-lang]:opacity-100" id="check-mr"></i>
                        </button>
                        <button onclick="changeLanguage('kn')" class="w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-brand-50 hover:text-brand-700 transition-colors flex justify-between items-center group">
                            ‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada) <i class="fa-solid fa-check text-brand-600 opacity-0 group-[.active-lang]:opacity-100" id="check-kn"></i>
                        </button>
                    </div>
                </div>
                <div class="hidden lg:flex flex-col items-end mr-2">
                    <span class="text-xs font-bold text-slate-900">Pune, IN</span>
                    <span class="text-[10px] font-bold text-brand-600 bg-brand-50 px-1.5 rounded flex items-center gap-1"><i class="fa-solid fa-cloud-sun"></i> 28¬∞C</span>
                </div>
                <div onclick="switchTab('profile')" class="w-10 h-10 md:w-11 md:h-11 rounded-xl bg-gradient-to-tr from-brand-100 to-earth-100 border-2 border-white p-0.5 cursor-pointer shadow-md hover:shadow-lg transition-all group shrink-0">
                    <img id="header-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=FarmerRajesh" class="w-full h-full rounded-[9px] group-hover:scale-95 transition-transform" alt="Profile">
                </div>
            </div>
        </div>
    </header>
    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 pt-28">
        <!-- ================= DASHBOARD VIEW ================= -->
        <section id="dashboard" class="view-section active space-y-6 md:space-y-8">
            <!-- Hero Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <!-- Welcome Card -->
                <div class="lg:col-span-8 bg-gradient-to-br from-brand-900 to-brand-800 rounded-[2rem] md:rounded-[2.5rem] p-6 md:p-8 text-white relative overflow-hidden shadow-depth group min-h-[380px] md:min-h-[420px] flex flex-col justify-between">
                    <!-- Abstract Overlay -->
                    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
                    <div class="absolute top-0 right-0 w-[300px] md:w-[400px] h-[300px] md:h-[400px] bg-brand-500 rounded-full mix-blend-overlay filter blur-[100px] opacity-20 group-hover:opacity-30 transition-opacity duration-700"></div>
                    <div class="absolute bottom-0 left-0 w-[200px] md:w-[300px] h-[200px] md:h-[300px] bg-accent-600 rounded-full mix-blend-overlay filter blur-[80px] opacity-10"></div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/10 backdrop-blur-md text-xs font-bold text-brand-100 mb-4 shadow-sm">
                                    <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
                                    <span data-translate="mandi_live">Mandi Live</span>
                                </div>
                                <h2 class="font-display font-bold text-3xl md:text-5xl mb-3 tracking-tight leading-tight"><span data-translate="good_afternoon">Good Afternoon</span>, <br><span class="text-brand-300 user-name-display">Farmer</span>!</h2>
                                <p class="text-brand-100/90 max-w-md text-sm md:text-base leading-relaxed" data-translate="market_insight_text">
                                    The market for <span class="font-bold text-white">Hybrid Tomatoes</span> is trending up by 12% today. Perfect time to list your stock.
                                </p>
                            </div>
                            <!-- Weather Mini Widget -->
                            <div class="hidden md:block bg-white/10 backdrop-blur-md border border-white/10 p-4 rounded-2xl text-center min-w-[100px]">
                                <i class="fa-solid fa-sun text-3xl text-yellow-400 mb-2 drop-shadow-lg"></i>
                                <div class="text-2xl font-bold font-display">28¬∞</div>
                                <div class="text-[10px] uppercase font-bold text-brand-200 tracking-wider" data-translate="sunny">Sunny</div>
                            </div>
                        </div>
                    </div>
                    <div class="relative z-10 mt-8 flex flex-wrap gap-3 md:gap-4">
                        <button onclick="openModal()" class="bg-white text-brand-900 px-6 md:px-7 py-3 md:py-3.5 rounded-2xl font-bold text-sm shadow-xl shadow-black/10 hover:scale-[1.02] hover:shadow-2xl transition-all flex items-center gap-2 group-btn w-full md:w-auto justify-center">
                            <span class="w-6 h-6 rounded-full bg-brand-100 flex items-center justify-center text-brand-700 group-hover:bg-brand-600 group-hover:text-white transition-colors"><i class="fa-solid fa-plus text-xs"></i></span>
                            <span data-translate="create_listing">Create Listing</span>
                        </button>
                        <button onclick="switchTab('analytics')" class="bg-brand-950/30 hover:bg-brand-950/50 border border-white/20 text-white px-6 md:px-7 py-3 md:py-3.5 rounded-2xl font-bold text-sm backdrop-blur-md transition-all w-full md:w-auto">
                            <span data-translate="view_orders_btn">View Orders (4)</span>
                        </button>
                    </div>
                </div>
                <!-- Right Column: Revenue & Market Price Ticker -->
                <div class="lg:col-span-4 flex flex-col gap-6">
                    <!-- Revenue Card -->
                    <div class="bg-white p-6 rounded-[2rem] md:rounded-[2.5rem] border border-earth-100 shadow-card flex flex-col justify-center hover:translate-y-[-4px] transition-transform duration-300 relative overflow-hidden h-[160px] shrink-0">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-green-50 rounded-full -mr-10 -mt-10 blur-2xl opacity-50"></div>
                        <div class="flex items-center justify-between mb-4 relative z-10">
                            <div class="w-12 h-12 bg-earth-50 rounded-2xl flex items-center justify-center text-brand-700 text-xl shadow-sm border border-earth-100">
                                <i class="fa-solid fa-wallet"></i>
                            </div>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 border border-green-200">
                                <i class="fa-solid fa-arrow-trend-up"></i> +18%
                            </span>
                        </div>
                        <p class="text-slate-500 text-xs font-extrabold uppercase tracking-widest mb-1" data-translate="total_revenue">Total Revenue</p>
                        <h3 class="text-4xl font-display font-bold text-slate-900 tracking-tight">‚Çπ48,200</h3>
                    </div>
                    <!-- Market Ticker (Moved Here) -->
                    <div class="bg-white p-6 rounded-[2rem] md:rounded-[2.5rem] border border-earth-100 shadow-card flex-1 flex flex-col relative overflow-hidden h-full min-h-[300px]">
                         <div class="flex items-center justify-between mb-4">
                            <h4 class="font-bold text-slate-900 text-sm flex items-center gap-2"><i class="fa-solid fa-chart-line text-brand-500"></i> <span data-translate="live_rates">Live Rates</span></h4>
                            <button onclick="switchTab('analytics')" class="text-[10px] font-bold bg-brand-50 text-brand-700 px-2 py-1 rounded-lg hover:bg-brand-100 transition-colors" data-translate="see_orders">See Orders</button>
                        </div>
                        <div class="flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-3" id="hero-price-ticker">
                            <!-- Injected by JS -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- REQUESTS & NEGOTIATIONS -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Buyer Requests Feed -->
                <div class="lg:col-span-2 bg-white p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] border border-earth-100 shadow-card">
                    <div class="flex items-center justify-between mb-8">
                        <div>
                            <h3 class="font-display font-bold text-slate-900 text-xl" data-translate="direct_requests">Direct Buyer Requests</h3>
                            <p class="text-xs text-slate-500 font-medium mt-1" data-translate="verified_msg">Verified businesses looking for your crops</p>
                        </div>
                        <span class="flex h-3 w-3 relative">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-3 w-3 bg-brand-500"></span>
                        </span>
                    </div>
                    <div class="space-y-4" id="requests-container">
                        <!-- Request Item 1 -->
                        <div class="request-item flex flex-col sm:flex-row sm:items-center gap-5 p-5 rounded-[1.5rem] bg-earth-50 border border-earth-100 transition-all hover:bg-white hover:shadow-lg hover:border-brand-200 group" id="req-1">
                            <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center border border-earth-100 text-2xl shadow-sm shrink-0 group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-basket-shopping text-brand-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="font-bold text-slate-900 text-base">Reliance Fresh <i class="fa-solid fa-circle-check text-blue-500 ml-1 text-xs"></i></span>
                                    <span class="text-[10px] font-bold text-slate-400 bg-white px-2 py-1 rounded-full border border-earth-200">20m ago</span>
                                </div>
                                <p class="text-sm text-slate-600 leading-snug">Requires <span class="font-bold text-slate-900">2 Tons Tomatoes (Hybrid)</span> delivered to Pune Warehouse.</p>
                            </div>
                            <div class="flex sm:flex-col gap-2 shrink-0">
                                <button onclick="handleRequest('req-1', 'accepted')" class="px-5 py-2.5 bg-brand-600 hover:bg-brand-700 text-white text-xs font-bold rounded-xl transition-all shadow-lg shadow-brand-600/20 active:scale-95" data-translate="accept">Accept</button>
                                <button onclick="handleRequest('req-1', 'declined')" class="px-5 py-2.5 bg-white border border-slate-200 text-slate-600 hover:text-red-500 hover:border-red-200 text-xs font-bold rounded-xl transition-all active:scale-95" data-translate="decline">Decline</button>
                            </div>
                        </div>
                        <!-- Request Item 2 -->
                        <div class="request-item flex flex-col sm:flex-row sm:items-center gap-5 p-5 rounded-[1.5rem] bg-earth-50 border border-earth-100 transition-all hover:bg-white hover:shadow-lg hover:border-brand-200 group" id="req-2">
                            <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center border border-earth-100 text-2xl shadow-sm shrink-0 group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-utensils text-orange-500"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="font-bold text-slate-900 text-base">Grand Maratha Hotel</span>
                                    <span class="text-[10px] font-bold text-slate-400 bg-white px-2 py-1 rounded-full border border-earth-200">1h ago</span>
                                </div>
                                <p class="text-sm text-slate-600 leading-snug">Requires <span class="font-bold text-slate-900">500 Kg Red Onions</span> delivered to Shivajinagar.</p>
                            </div>
                            <div class="flex sm:flex-col gap-2 shrink-0">
                                <button onclick="handleRequest('req-2', 'accepted')" class="px-5 py-2.5 bg-brand-600 hover:bg-brand-700 text-white text-xs font-bold rounded-xl transition-all shadow-lg shadow-brand-600/20 active:scale-95" data-translate="accept">Accept</button>
                                <button onclick="handleRequest('req-2', 'declined')" class="px-5 py-2.5 bg-white border border-slate-200 text-slate-600 hover:text-red-500 hover:border-red-200 text-xs font-bold rounded-xl transition-all active:scale-95" data-translate="decline">Decline</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Active Negotiations -->
                <div class="bg-white p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] border border-earth-100 shadow-card flex flex-col">
                    <div class="flex items-center justify-between mb-8">
                        <h3 class="font-display font-bold text-slate-900 text-xl" data-translate="negotiations">Negotiations</h3>
                        <span class="text-xs font-bold text-brand-700 bg-brand-50 px-3 py-1.5 rounded-xl border border-brand-100">2 Active</span>
                    </div>
                    <div class="space-y-4 flex-1 overflow-y-auto max-h-[400px] pr-1 custom-scrollbar">
                        <div class="p-4 rounded-2xl bg-earth-50 border border-transparent hover:border-brand-200 transition-all cursor-pointer group hover:bg-white hover:shadow-md">
                            <div class="flex justify-between items-start mb-2">
                                <p class="text-sm font-bold text-slate-800">Deal #4029 - Wheat</p>
                                <span class="text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-1 rounded-lg border border-amber-100" data-translate="counter_offer">Counter Offer</span>
                            </div>
                            <div class="flex justify-between text-xs text-slate-500 mb-3">
                                <span>Bid: ‚Çπ2,400</span>
                                <span>Ask: ‚Çπ2,600</span>
                            </div>
                            <div class="w-full bg-slate-200 h-2 rounded-full overflow-hidden"><div class="bg-amber-500 h-full rounded-full group-hover:w-[70%] transition-all duration-1000 w-[60%]"></div></div>
                        </div>
                        <div class="p-4 rounded-2xl bg-earth-50 border border-transparent hover:border-brand-200 transition-all cursor-pointer group hover:bg-white hover:shadow-md">
                            <div class="flex justify-between items-start mb-2">
                                <p class="text-sm font-bold text-slate-800">Deal #4035 - Corn</p>
                                <span class="text-[10px] font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded-lg border border-blue-100" data-translate="waiting">Waiting</span>
                            </div>
                            <p class="text-xs text-slate-500 mb-3" data-translate="proposal_sent">Proposal sent to buyer.</p>
                            <div class="w-full bg-slate-200 h-2 rounded-full overflow-hidden"><div class="bg-blue-500 h-full rounded-full w-[30%]"></div></div>
                        </div>
                    </div>
                    <button class="w-full mt-6 py-4 text-xs font-bold text-slate-600 border border-slate-200 rounded-xl hover:bg-earth-50 transition-all flex items-center justify-center gap-2 uppercase tracking-wide">
                        <span data-translate="view_history">View History</span>
                    </button>
                </div>
            </div>
        </section>
        <!-- ================= MARKETPLACE VIEW ================= -->
        <section id="marketplace" class="view-section space-y-8">
            <!-- Search Header -->
            <div class="bg-white p-6 rounded-[2.5rem] shadow-card border border-earth-100 sticky top-24 z-30 transition-all">
                <div class="flex flex-col md:flex-row gap-5">
                    <div class="relative flex-1 group">
                        <i class="fa-solid fa-magnifying-glass absolute left-5 top-4 text-slate-400 group-focus-within:text-brand-600 transition-colors"></i>
                        <input type="text" id="market-search" placeholder="Search crops, buyers, or locations..." class="w-full bg-earth-50 border-2 border-transparent hover:border-earth-200 focus:border-brand-500 rounded-2xl py-3.5 pl-12 pr-4 text-sm font-semibold text-slate-800 outline-none transition-all placeholder:text-slate-400" onkeyup="filterMarketplace()" data-translate-placeholder="search_market_placeholder">
                    </div>
                    <div class="flex gap-2 overflow-x-auto no-scrollbar pb-1 md:pb-0">
                        <button onclick="filterCategory('all')" class="market-filter active px-6 py-3.5 bg-brand-900 text-white rounded-2xl text-xs font-bold whitespace-nowrap shadow-lg shadow-brand-900/20 transition-all hover:bg-brand-800" data-translate="all_stock">All Stock</button>
                        <button onclick="filterCategory('vegetable')" class="market-filter px-6 py-3.5 bg-white border border-slate-200 text-slate-600 rounded-2xl text-xs font-bold whitespace-nowrap hover:bg-earth-50 hover:border-slate-300 transition-all" data-translate="vegetables">Vegetables</button>
                        <button onclick="filterCategory('grain')" class="market-filter px-6 py-3.5 bg-white border border-slate-200 text-slate-600 rounded-2xl text-xs font-bold whitespace-nowrap hover:bg-earth-50 hover:border-slate-300 transition-all" data-translate="grains">Grains</button>
                        <button onclick="filterCategory('fruit')" class="market-filter px-6 py-3.5 bg-white border border-slate-200 text-slate-600 rounded-2xl text-xs font-bold whitespace-nowrap hover:bg-earth-50 hover:border-slate-300 transition-all" data-translate="fruits">Fruits</button>
                    </div>
                </div>
            </div>
            <!-- Listings Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="marketplace-grid">
                <!-- JS Injected -->
            </div>
            <!-- Empty State -->
            <div id="no-results" class="hidden flex flex-col items-center justify-center py-20">
                <div class="w-24 h-24 bg-earth-100 rounded-full flex items-center justify-center text-slate-300 text-4xl mb-6">
                    <i class="fa-solid fa-leaf"></i>
                </div>
                <h3 class="text-xl font-bold text-slate-800" data-translate="no_listings">No listings found</h3>
                <p class="text-sm text-slate-500 mt-2">Try adjusting your filters or search terms.</p>
            </div>
        </section>
        <!-- ================= ORDERS VIEW (Formerly Analytics) ================= -->
        <section id="analytics" class="view-section space-y-8">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                <div>
                    <h2 class="font-display font-bold text-3xl text-slate-900" data-translate="order_mgmt">Order Management</h2>
                    <p class="text-slate-500 text-sm font-medium mt-1" data-translate="track_sales">Track and manage your sales efficiently.</p>
                </div>
                <div class="flex gap-2">
                    <button class="bg-brand-600 text-white px-5 py-2.5 rounded-xl text-xs font-bold hover:bg-brand-700 transition-colors shadow-lg shadow-brand-600/20 flex items-center gap-2">
                        <i class="fa-solid fa-download"></i> <span data-translate="export_report">Export Report</span>
                    </button>
                </div>
            </div>
            <!-- KPI Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-[2rem] border border-earth-100 shadow-card flex items-center gap-5">
                    <div class="w-14 h-14 rounded-2xl bg-green-50 text-green-600 flex items-center justify-center text-2xl border border-green-100">
                        <i class="fa-solid fa-indian-rupee-sign"></i>
                    </div>
                    <div>
                        <p class="text-slate-400 text-xs font-bold uppercase tracking-wider" data-translate="total_revenue">Total Revenue</p>
                        <h3 class="text-2xl font-display font-bold text-slate-900">‚Çπ41,700</h3>
                        <span class="text-[10px] font-bold text-green-600 bg-green-50 px-1.5 py-0.5 rounded border border-green-100">+12% vs last month</span>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-[2rem] border border-earth-100 shadow-card flex items-center gap-5">
                    <div class="w-14 h-14 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center text-2xl border border-blue-100">
                        <i class="fa-solid fa-basket-shopping"></i>
                    </div>
                    <div>
                        <p class="text-slate-400 text-xs font-bold uppercase tracking-wider" data-translate="total_orders">Total Orders</p>
                        <h3 class="text-2xl font-display font-bold text-slate-900">142</h3>
                        <p class="text-xs text-slate-500 font-bold" data-translate="lifetime_sales">Lifetime Sales</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-[2rem] border border-earth-100 shadow-card flex items-center gap-5">
                    <div class="w-14 h-14 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center text-2xl border border-amber-100">
                        <i class="fa-solid fa-clock"></i>
                    </div>
                    <div>
                        <p class="text-slate-400 text-xs font-bold uppercase tracking-wider" data-translate="pending">Pending</p>
                        <h3 class="text-2xl font-display font-bold text-slate-900">3</h3>
                        <p class="text-xs text-slate-500 font-bold" data-translate="requires_action">Requires Action</p>
                    </div>
                </div>
            </div>
            <!-- Orders Container -->
            <div class="bg-white rounded-[2.5rem] border border-earth-100 shadow-card overflow-hidden">
                <!-- Filters/Tabs -->
                <div class="p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 justify-between items-center bg-slate-50/50">
                    <div class="flex p-1 bg-white border border-slate-200 rounded-xl w-full md:w-auto overflow-x-auto">
                        <button onclick="filterOrders('All')" class="order-tab active px-5 py-2 rounded-lg text-xs font-bold transition-all bg-slate-900 text-white shadow-md whitespace-nowrap" id="tab-All" data-translate="tab_all">All</button>
                        <button onclick="filterOrders('Pending')" class="order-tab px-5 py-2 rounded-lg text-xs font-bold text-slate-500 hover:text-slate-900 transition-all whitespace-nowrap" id="tab-Pending" data-translate="tab_pending">Pending</button>
                        <button onclick="filterOrders('Completed')" class="order-tab px-5 py-2 rounded-lg text-xs font-bold text-slate-500 hover:text-slate-900 transition-all whitespace-nowrap" id="tab-Completed" data-translate="tab_completed">Completed</button>
                    </div>
                    <div class="relative w-full md:w-64 group">
                        <i class="fa-solid fa-magnifying-glass absolute left-4 top-3 text-slate-400 group-focus-within:text-brand-500 transition-colors text-xs"></i>
                        <input type="text" id="order-search" placeholder="Search Order ID or Buyer..." class="w-full bg-white border border-slate-200 rounded-xl pl-10 pr-4 py-2.5 text-xs font-bold outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500 transition-all" onkeyup="searchOrders()" data-translate-placeholder="search_placeholder">
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse min-w-[600px]">
                        <thead class="bg-slate-50 text-slate-500">
                            <tr class="text-xs uppercase tracking-wider">
                                <th class="py-4 pl-6 font-bold w-32" data-translate="th_id">Order ID</th>
                                <th class="py-4 font-bold" data-translate="th_product">Product & Buyer</th>
                                <th class="py-4 font-bold" data-translate="th_date">Date</th>
                                <th class="py-4 font-bold" data-translate="th_amount">Amount</th>
                                <th class="py-4 font-bold" data-translate="th_status">Status</th>
                                <th class="py-4 pr-6 font-bold text-right" data-translate="th_actions">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="full-order-table-body" class="text-sm font-medium text-slate-700 divide-y divide-slate-100">
                            <!-- JS Injected -->
                        </tbody>
                    </table>
                </div>
                <!-- Pagination (Visual Only) -->
                <div class="p-4 border-t border-slate-100 flex justify-between items-center bg-white">
                    <span class="text-xs text-slate-400 font-bold ml-2">Showing 1-4 of 4 orders</span>
                    <div class="flex gap-2">
                        <button class="w-8 h-8 rounded-lg border border-slate-200 text-slate-400 flex items-center justify-center hover:bg-slate-50 cursor-not-allowed opacity-50"><i class="fa-solid fa-chevron-left text-xs"></i></button>
                        <button class="w-8 h-8 rounded-lg border border-slate-200 text-slate-600 flex items-center justify-center hover:bg-slate-50 hover:text-brand-600"><i class="fa-solid fa-chevron-right text-xs"></i></button>
                    </div>
                </div>
            </div>
        </section>
        <!-- ================= PROFILE VIEW ================= -->
        <section id="profile" class="view-section space-y-8 pb-12">
            <!-- Profile Header -->
            <div class="relative bg-white rounded-[2.5rem] shadow-card overflow-hidden border border-earth-100">
                <!-- Cover Image -->
                <div class="h-40 md:h-48 bg-slate-800 relative overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?auto=format&fit=crop&q=80&w=1200" class="w-full h-full object-cover opacity-60">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                    <button class="absolute top-4 right-4 bg-black/30 backdrop-blur text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-black/50 transition-colors border border-white/20">
                        <i class="fa-solid fa-camera mr-1"></i> <span data-translate="edit_cover">Edit Cover</span>
                    </button>
                </div>
                <div class="px-6 md:px-8 pb-8 relative">
                    <div class="flex flex-col md:flex-row items-center md:items-end -mt-12 md:-mt-16 mb-6 gap-4 md:gap-6">
                        <div class="w-24 h-24 md:w-32 md:h-32 rounded-[2rem] bg-white p-1.5 shadow-xl relative group z-10">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=FarmerRajesh" class="w-full h-full rounded-[1.5rem] bg-slate-50 object-cover" alt="Profile">
                            <div class="absolute bottom-1 right-1 w-6 h-6 md:w-8 md:h-8 bg-brand-500 rounded-full border-4 border-white flex items-center justify-center text-white text-[10px] md:text-xs shadow-sm">
                                <i class="fa-solid fa-check"></i>
                            </div>
                        </div>
                        <div class="flex-1 text-center md:text-left mb-2">
                            <h2 class="text-2xl md:text-3xl font-display font-bold text-slate-900 user-name-display mb-1">Rajesh Kumar</h2>
                            <p class="text-xs md:text-sm text-slate-500 font-bold user-farm-display flex items-center justify-center md:justify-start gap-2">
                                <i class="fa-solid fa-tractor text-brand-500"></i> Green Valley Farms ‚Ä¢ Pune, MH
                            </p>
                        </div>
                        <button onclick="toggleEditProfile()" class="px-6 py-3 bg-slate-900 text-white rounded-xl text-xs font-bold transition-all hover:bg-slate-800 shadow-lg shadow-slate-900/20">
                            <span data-translate="edit_profile">Edit Profile</span>
                        </button>
                    </div>
                    <!-- Stats Row -->
                    <div class="grid grid-cols-3 gap-4 border-t border-earth-100 pt-6">
                        <div class="text-center md:text-left">
                            <span class="block text-xl md:text-2xl font-display font-bold text-slate-900" id="profile-listings-count">0</span>
                            <span class="text-[9px] md:text-[10px] uppercase font-bold text-slate-400 tracking-wider" data-translate="active_listings">Active Listings</span>
                        </div>
                        <div class="text-center md:text-left border-l border-earth-100 pl-4">
                            <span class="block text-xl md:text-2xl font-display font-bold text-slate-900 flex items-center justify-center md:justify-start gap-1">4.8 <i class="fa-solid fa-star text-sm text-yellow-400"></i></span>
                            <span class="text-[9px] md:text-[10px] uppercase font-bold text-slate-400 tracking-wider" data-translate="buyer_rating">Buyer Rating</span>
                        </div>
                        <div class="text-center md:text-left border-l border-earth-100 pl-4">
                            <span class="block text-xl md:text-2xl font-display font-bold text-slate-900">3 <span class="text-sm text-slate-400 font-normal">Yrs</span></span>
                            <span class="text-[9px] md:text-[10px] uppercase font-bold text-slate-400 tracking-wider" data-translate="membership">Membership</span>
                        </div>
                    </div>
                    <!-- Edit Form -->
                    <div id="edit-profile-form" class="hidden mt-6 p-6 bg-earth-50 rounded-2xl border border-earth-100">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Full Name</label>
                                <input type="text" id="edit-name" class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Farm Name</label>
                                <input type="text" id="edit-farm" class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Location</label>
                                <input type="text" id="edit-location" class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Phone</label>
                                <input type="text" id="edit-phone" class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all">
                            </div>
                        </div>
                        <div class="flex justify-end gap-3 mt-6">
                            <button onclick="toggleEditProfile()" class="px-5 py-2.5 text-xs font-bold text-slate-500 hover:text-slate-800">Cancel</button>
                            <button onclick="saveProfile()" class="px-5 py-2.5 bg-brand-600 text-white rounded-xl text-xs font-bold shadow-lg shadow-brand-600/20 hover:bg-brand-700">Save Changes</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Profile Info Grid -->
            <div class="grid grid-cols-1 gap-6">
                <!-- Personal Details -->
                <div class="bg-white p-6 rounded-[2.5rem] border border-earth-100 shadow-card">
                    <h3 class="font-display font-bold text-slate-900 text-lg mb-4" data-translate="personal_info">Personal Information</h3>
                    <div class="space-y-4">
                        <div class="flex items-center gap-4 p-3 bg-earth-50 rounded-2xl">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm">
                                <i class="fa-solid fa-envelope"></i>
                            </div>
                            <div>
                                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">Email Address</p>
                                <p class="font-bold text-slate-800 text-sm user-email-display">farmer@agriconnect.com</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4 p-3 bg-earth-50 rounded-2xl">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm">
                                <i class="fa-solid fa-phone"></i>
                            </div>
                            <div>
                                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">Phone</p>
                                <p class="font-bold text-slate-800 text-sm user-phone-display">+91 98765 43210</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4 p-3 bg-earth-50 rounded-2xl">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm">
                                <i class="fa-solid fa-map-location-dot"></i>
                            </div>
                            <div>
                                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">Address</p>
                                <p class="font-bold text-slate-800 text-sm user-address-display">Plot 45, Indrayani Nagar, Pune</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- My History -->
            <div class="px-2">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-display font-bold text-xl text-slate-900" data-translate="my_inventory">My Products / Inventory</h3>
                    <!-- My Crops Tags -->
                    <div class="flex gap-2">
                        <span class="px-3 py-1 bg-white text-slate-600 rounded-lg text-xs font-bold border border-earth-200">üçÖ Tomatoes</span>
                        <span class="px-3 py-1 bg-white text-slate-600 rounded-lg text-xs font-bold border border-earth-200">üåæ Wheat</span>
                        <button class="px-3 py-1 border border-dashed border-slate-300 text-slate-400 rounded-lg text-xs font-bold hover:border-brand-500 hover:text-brand-600 transition-colors">+ Add</button>
                    </div>
                </div>
                <div id="profile-history-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Populated by JS -->
                </div>
            </div>
        </section>
    </main>
    <!-- Mobile Navigation Bottom Bar -->
    <nav class="md:hidden fixed bottom-0 left-0 w-full bg-white/90 backdrop-blur-lg border-t border-slate-200 z-50 pb-safe">
        <div class="flex justify-around items-center h-20 px-2 relative">
            <button onclick="switchTab('dashboard')" class="mob-nav-btn flex flex-col items-center gap-1 p-2 text-brand-700 mob-active transition-colors w-16 group" id="mob-dashboard">
                <div class="w-8 h-8 rounded-full bg-transparent group-[.mob-active]:bg-brand-50 flex items-center justify-center transition-colors mb-0.5">
                    <i class="fa-solid fa-grid-2 text-lg"></i>
                </div>
                <span class="text-[10px] font-bold" data-translate="nav_dashboard">Home</span>
            </button>
            <button onclick="switchTab('marketplace')" class="mob-nav-btn flex flex-col items-center gap-1 p-2 text-slate-400 transition-colors w-16 group" id="mob-marketplace">
                <div class="w-8 h-8 rounded-full bg-transparent group-[.mob-active]:bg-brand-50 flex items-center justify-center transition-colors mb-0.5">
                    <i class="fa-solid fa-shop text-lg"></i>
                </div>
                <span class="text-[10px] font-bold" data-translate="nav_market">Market</span>
            </button>
            <!-- Floating FAB -->
            <div class="relative -top-6">
                <button onclick="openModal()" class="w-14 h-14 bg-gradient-to-r from-brand-600 to-brand-500 rounded-full flex items-center justify-center text-white shadow-xl shadow-brand-600/40 border-[6px] border-[#fbfaf8] active:scale-95 transition-transform hover:scale-110">
                    <i class="fa-solid fa-plus text-xl"></i>
                </button>
            </div>
            <button onclick="switchTab('analytics')" class="mob-nav-btn flex flex-col items-center gap-1 p-2 text-slate-400 transition-colors w-16 group" id="mob-analytics">
                <div class="w-8 h-8 rounded-full bg-transparent group-[.mob-active]:bg-brand-50 flex items-center justify-center transition-colors mb-0.5">
                    <i class="fa-solid fa-clipboard-list text-lg"></i>
                </div>
                <span class="text-[10px] font-bold" data-translate="nav_orders">Orders</span>
            </button>
            <button onclick="switchTab('profile')" class="mob-nav-btn flex flex-col items-center gap-1 p-2 text-slate-400 transition-colors w-16 group" id="mob-profile">
                <div class="w-8 h-8 rounded-full bg-transparent group-[.mob-active]:bg-brand-50 flex items-center justify-center transition-colors mb-0.5">
                    <i class="fa-solid fa-user-circle text-lg"></i>
                </div>
                <span class="text-[10px] font-bold" data-translate="nav_profile">Farm</span>
            </button>
        </div>
    </nav>
    <!-- Create Listing Modal -->
    <div id="listingModal" class="fixed inset-0 z-[60] hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity opacity-0" id="modalBackdrop" onclick="closeModal()"></div>
        <!-- Modal Content -->
        <div class="absolute bottom-0 md:top-1/2 md:bottom-auto md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 w-full md:w-[500px] bg-white rounded-t-[2.5rem] md:rounded-[2.5rem] shadow-2xl transform translate-y-full md:translate-y-10 opacity-0 transition-all duration-300 flex flex-col max-h-[90vh]" id="modalContent">
            <div class="p-8 border-b border-slate-100 flex justify-between items-center bg-earth-50/50 rounded-t-[2.5rem]">
                <div>
                    <h3 class="text-xl font-display font-bold text-slate-900" data-translate="new_listing">New Listing</h3>
                    <p class="text-xs text-slate-500 font-medium mt-1">Connect with 500+ verified buyers</p>
                </div>
                <button onclick="closeModal()" class="w-9 h-9 rounded-full bg-slate-100 text-slate-400 flex items-center justify-center hover:bg-slate-200 hover:text-slate-600 transition-colors">
                    <i class="fa-solid fa-xmark text-sm"></i>
                </button>
            </div>
            <div class="p-8 overflow-y-auto space-y-6 custom-scrollbar">
                <!-- Image Upload -->
                <div class="w-full h-40 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center text-slate-400 bg-slate-50 hover:bg-brand-50 hover:border-brand-300 hover:text-brand-600 transition-all cursor-pointer group">
                    <div class="w-12 h-12 rounded-full bg-white shadow-sm flex items-center justify-center mb-3 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-camera text-xl"></i>
                    </div>
                    <span class="text-xs font-bold">Add Crop Photos</span>
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Item Name</label>
                    <input type="text" id="itemName" class="w-full bg-white border border-slate-200 rounded-2xl p-4 text-sm font-bold text-slate-800 focus:ring-2 focus:ring-brand-500 focus:border-transparent outline-none transition-all" placeholder="e.g. Organic Red Tomatoes">
                </div>
                <div class="grid grid-cols-2 gap-5">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Category</label>
                        <div class="relative">
                            <select id="itemCat" class="w-full bg-white border border-slate-200 rounded-2xl p-4 text-sm font-bold text-slate-800 focus:ring-2 focus:ring-brand-500 outline-none appearance-none">
                                <option value="vegetable">Vegetable</option>
                                <option value="grain">Grain</option>
                                <option value="fruit">Fruit</option>
                            </select>
                            <i class="fa-solid fa-chevron-down absolute right-4 top-4.5 text-slate-400 pointer-events-none text-xs"></i>
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Quantity (Kg)</label>
                        <input type="number" id="itemQty" class="w-full bg-white border border-slate-200 rounded-2xl p-4 text-sm font-bold text-slate-800 focus:ring-2 focus:ring-brand-500 focus:border-transparent outline-none transition-all" placeholder="0">
                    </div>
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Price / Kg</label>
                    <div class="relative">
                        <span class="absolute left-4 top-4 text-slate-400 font-bold">‚Çπ</span>
                        <input type="number" id="itemPrice" class="w-full bg-white border border-slate-200 rounded-2xl p-4 pl-8 text-sm font-bold text-slate-800 focus:ring-2 focus:ring-brand-500 focus:border-transparent outline-none transition-all" placeholder="00">
                    </div>
                </div>
                <!-- Price Advice -->
                <div class="bg-amber-50 p-5 rounded-2xl border border-amber-100 flex gap-4 items-start">
                    <div class="w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 shrink-0">
                        <i class="fa-solid fa-lightbulb"></i>
                    </div>
                    <div class="text-xs text-amber-900 leading-relaxed">
                        <p class="font-bold mb-1">Pricing Insight</p>
                        <p>Market average is <span class="font-bold">‚Çπ24</span>. Listing at <span class="font-bold text-green-700">‚Çπ22</span> usually sells in under 4 hours.</p>
                    </div>
                </div>
            </div>
            <div class="p-6 border-t border-slate-100 bg-white md:rounded-b-[2.5rem]">
                <button onclick="submitListing()" class="w-full bg-brand-600 hover:bg-brand-700 text-white font-bold py-4 rounded-2xl shadow-lg shadow-brand-600/20 active:scale-95 transition-all text-sm tracking-wide" data-translate="publish">
                    Publish Listing
                </button>
            </div>
        </div>
    </div>
    <script>
        // --- State Management ---
        const state = {
            currentLang: 'en',
            user: {
                name: 'Rajesh Kumar',
                farmName: 'Green Valley Farms',
                location: 'Pune, Maharashtra',
                phone: '+91 98765 43210',
                email: 'rajesh.kumar@agriconnect.com',
                address: 'Plot No. 45, Indrayani Nagar, Talegaon Dabhade, Pune - 410507',
                avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=FarmerRajesh',
                joined: '3 yrs'
            },
            marketPrices: [
                { id: 1, name: 'Wheat (Lokwan)', price: 2600, trend: 'up', change: 2.4 },
                { id: 2, name: 'Onion (Red)', price: 1850, trend: 'up', change: 5.1 },
                { id: 3, name: 'Soybean', price: 4100, trend: 'down', change: 1.2 },
                { id: 4, name: 'Tomato (Hybrid)', price: 1200, trend: 'stable', change: 0.0 },
                { id: 5, name: 'Potato (Indore)', price: 1500, trend: 'up', change: 1.8 },
                { id: 6, name: 'Cotton', price: 6200, trend: 'down', change: 0.5 },
            ],
            orders: [
                { id: 'ORD-7782', buyer: 'Reliance Fresh', item: 'Organic Tomatoes', category: 'vegetable', qty: '500 kg', date: '28 Jan', amount: 11000, status: 'Completed' },
                { id: 'ORD-7783', buyer: 'Grand Maratha Hotel', item: 'Onions (Red)', category: 'vegetable', qty: '150 kg', date: '26 Jan', amount: 4500, status: 'Pending' },
                { id: 'ORD-7784', buyer: 'BigBasket', item: 'Wheat (Grade A)', category: 'grain', qty: '1 Ton', date: '20 Jan', amount: 25000, status: 'Completed' },
                { id: 'ORD-7785', buyer: 'Local Market Vendor', item: 'Spinach Bunch', category: 'vegetable', qty: '200 units', date: '15 Jan', amount: 1200, status: 'Completed' },
            ],
            listings: [
                { id: 1, name: 'Fresh Organic Tomatoes', category: 'vegetable', price: 22, qty: '500 kg', farmer: 'Rajesh Kumar', loc: 'Pune, MH', time: '2h ago', img: 'https://images.unsplash.com/photo-1592924357228-91a4daadcfea?auto=format&fit=crop&q=80&w=600', verified: true, isMine: true },
                { id: 2, name: 'Premium Basmati Rice', category: 'grain', price: 65, qty: '1.2 Tons', farmer: 'Amit Singh', loc: 'Nashik, MH', time: '5h ago', img: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?auto=format&fit=crop&q=80&w=600', verified: false, isMine: false },
                { id: 3, name: 'Yellow Corn / Maize', category: 'grain', price: 18, qty: '800 kg', farmer: 'Suresh P.', loc: 'Satara, MH', time: '1d ago', img: 'https://images.unsplash.com/photo-1551754655-cd27e38d2076?auto=format&fit=crop&q=80&w=600', verified: true, isMine: false },
                { id: 4, name: 'Nagpur Oranges', category: 'fruit', price: 40, qty: '300 kg', farmer: 'Vijay D.', loc: 'Nagpur, MH', time: '3h ago', img: 'https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5a?auto=format&fit=crop&q=80&w=600', verified: true, isMine: false },
            ]
        };
        // --- Translation Dictionary ---
        const product_names = {
            'Wheat': { hi: '‡§ó‡•á‡§π‡•Ç‡§Å', mr: '‡§ó‡§π‡•Ç', kn: '‡≤ó‡≥ã‡≤ß‡≤ø' },
            'Onion': { hi: '‡§™‡•ç‡§Ø‡§æ‡§ú‡§º', mr: '‡§ï‡§æ‡§Ç‡§¶‡§æ', kn: '‡≤à‡≤∞‡≥Å‡≤≥‡≥ç‡≤≥‡≤ø' },
            'Soybean': { hi: '‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®', mr: '‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®', kn: '‡≤∏‡≥ã‡≤Ø‡≤æ‡≤¨‡≥Ä‡≤®‡≥ç' },
            'Tomato': { hi: '‡§ü‡§Æ‡§æ‡§ü‡§∞', mr: '‡§ü‡•ã‡§Æ‡•Ö‡§ü‡•ã', kn: '‡≤ü‡≥ä‡≤Æ‡≥Ü‡≤ü‡≥ä' },
            'Tomatoes': { hi: '‡§ü‡§Æ‡§æ‡§ü‡§∞', mr: '‡§ü‡•ã‡§Æ‡•Ö‡§ü‡•ã', kn: '‡≤ü‡≥ä‡≤Æ‡≥Ü‡≤ü‡≥ä' },
            'Potato': { hi: '‡§Ü‡§≤‡•Ç', mr: '‡§¨‡§ü‡§æ‡§ü‡§æ', kn: '‡≤Ü‡≤≤‡≥Ç‡≤ó‡≤°‡≥ç‡≤°‡≥Ü' },
            'Cotton': { hi: '‡§ï‡§™‡§æ‡§∏', mr: '‡§ï‡§æ‡§™‡•Ç‡§∏', kn: '‡≤π‡≤§‡≥ç‡≤§‡≤ø' },
            'Rice': { hi: '‡§ö‡§æ‡§µ‡§≤', mr: '‡§§‡§æ‡§Ç‡§¶‡•Ç‡§≥', kn: '‡≤Ö‡≤ï‡≥ç‡≤ï‡≤ø' },
            'Corn': { hi: '‡§Æ‡§ï‡•ç‡§ï‡§æ', mr: '‡§Æ‡§ï‡§æ', kn: '‡≤ú‡≥ã‡≤≥' },
            'Maize': { hi: '‡§Æ‡§ï‡•ç‡§ï‡§æ', mr: '‡§Æ‡§ï‡§æ', kn: '‡≤ú‡≥ã‡≤≥' },
            'Orange': { hi: '‡§∏‡§Ç‡§§‡§∞‡§æ', mr: '‡§∏‡§Ç‡§§‡•ç‡§∞‡•Ä', kn: '‡≤ï‡≤ø‡≤§‡≥ç‡≤§‡≤≥‡≥Ü' },
            'Oranges': { hi: '‡§∏‡§Ç‡§§‡§∞‡§æ', mr: '‡§∏‡§Ç‡§§‡•ç‡§∞‡•Ä', kn: '‡≤ï‡≤ø‡≤§‡≥ç‡≤§‡≤≥‡≥Ü' },
            'Spinach': { hi: '‡§™‡§æ‡§≤‡§ï', mr: '‡§™‡§æ‡§≤‡§ï', kn: '‡≤™‡≤æ‡≤≤‡≤ï‡≥ç' },
            'Organic': { hi: '‡§ú‡•à‡§µ‡§ø‡§ï', mr: '‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø', kn: '‡≤∏‡≤æ‡≤µ‡≤Ø‡≤µ' },
            'Fresh': { hi: '‡§§‡§æ‡§ú‡§º‡§æ', mr: '‡§§‡§æ‡§ú‡•á', kn: '‡≤§‡≤æ‡≤ú‡≤æ' },
            'Yellow': { hi: '‡§™‡•Ä‡§≤‡§æ', mr: '‡§™‡§ø‡§µ‡§≥‡§æ', kn: '‡≤π‡≤≥‡≤¶‡≤ø' },
            'Red': { hi: '‡§≤‡§æ‡§≤', mr: '‡§≤‡§æ‡§≤', kn: '‡≤ï‡≥Ü‡≤Ç‡≤™‡≥Å' },
            'Premium': { hi: '‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§Æ', mr: '‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§Æ', kn: '‡≤™‡≥ç‡≤∞‡≥Ä‡≤Æ‡≤ø‡≤Ø‡≤Ç' }
        };
        const translations = {
            en: {
                app_subtitle: "Farmer Suite",
                nav_dashboard: "Dashboard",
                nav_market: "Market",
                nav_orders: "Orders",
                nav_profile: "Farm Profile",
                mandi_live: "Mandi Live",
                good_afternoon: "Good Afternoon",
                market_insight_text: "The market for <span class='font-bold text-white'>Hybrid Tomatoes</span> is trending up by 12% today.",
                sunny: "Sunny",
                create_listing: "Create Listing",
                view_orders_btn: "View Orders",
                total_revenue: "Total Revenue",
                live_rates: "Live Rates",
                see_orders: "See Orders",
                direct_requests: "Direct Buyer Requests",
                verified_msg: "Verified businesses looking for your crops",
                accept: "Accept",
                decline: "Decline",
                negotiations: "Negotiations",
                waiting: "Waiting",
                view_history: "View History",
                all_stock: "All Stock",
                vegetables: "Vegetables",
                grains: "Grains",
                fruits: "Fruits",
                no_listings: "No listings found",
                order_mgmt: "Order Management",
                track_sales: "Track and manage your sales efficiently.",
                export_report: "Export Report",
                total_orders: "Total Orders",
                lifetime_sales: "Lifetime Sales",
                pending: "Pending",
                requires_action: "Requires Action",
                tab_all: "All",
                tab_pending: "Pending",
                tab_completed: "Completed",
                th_id: "Order ID",
                th_product: "Product & Buyer",
                th_date: "Date",
                th_amount: "Amount",
                th_status: "Status",
                th_actions: "Actions",
                edit_cover: "Edit Cover",
                edit_profile: "Edit Profile",
                active_listings: "Active Listings",
                buyer_rating: "Buyer Rating",
                membership: "Membership",
                personal_info: "Personal Information",
                recent_sales: "Recent Orders (Sales)",
                view_all_orders: "View All Orders",
                my_inventory: "My Products / Inventory",
                new_listing: "New Listing",
                publish: "Publish Listing",
                avg_quintal: "Avg / Quintal",
                verified: "VERIFIED",
                my_stock: "MY STOCK",
                view_details: "View Details",
                no_orders: "No orders found.",
                counter_offer: "Counter Offer",
                proposal_sent: "Proposal sent to buyer.",
                search_placeholder: "Search Order ID or Buyer...",
                search_market_placeholder: "Search crops, buyers...",
                completed: "Completed",
                cancelled: "Cancelled"
            },
            hi: {
                app_subtitle: "‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡•Å‡§á‡§ü",
                nav_dashboard: "‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
                nav_market: "‡§¨‡§æ‡§ú‡§º‡§æ‡§∞",
                nav_orders: "‡§ë‡§∞‡•ç‡§°‡§∞‡•ç‡§∏",
                nav_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤",
                mandi_live: "‡§Æ‡§Ç‡§°‡•Ä ‡§≤‡§æ‡§á‡§µ",
                good_afternoon: "‡§∂‡•Å‡§≠ ‡§¶‡•ã‡§™‡§π‡§∞",
                market_insight_text: "‡§Ü‡§ú <span class='font-bold text-white'>‡§π‡§æ‡§á‡§¨‡•ç‡§∞‡§ø‡§° ‡§ü‡§Æ‡§æ‡§ü‡§∞</span> ‡§ï‡§æ ‡§¨‡§æ‡§ú‡§º‡§æ‡§∞ 12% ‡§ä‡§™‡§∞ ‡§π‡•à‡•§ ‡§¨‡•á‡§ö‡§®‡•á ‡§ï‡§æ ‡§∏‡§π‡•Ä ‡§∏‡§Æ‡§Ø‡•§",
                sunny: "‡§ß‡•Ç‡§™",
                create_listing: "‡§®‡§à ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                view_orders_btn: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                total_revenue: "‡§ï‡•Å‡§≤ ‡§ï‡§Æ‡§æ‡§à",
                live_rates: "‡§§‡§æ‡§ú‡§º‡§æ ‡§≠‡§æ‡§µ",
                see_orders: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                direct_requests: "‡§∏‡•Ä‡§ß‡•á ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß",
                verified_msg: "‡§Ü‡§™‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞",
                accept: "‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç",
                decline: "‡§Ö‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç",
                negotiations: "‡§¨‡§æ‡§§‡§ö‡•Ä‡§§",
                waiting: "‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ",
                view_history: "‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                all_stock: "‡§∏‡§≠‡•Ä ‡§∏‡•ç‡§ü‡•â‡§ï",
                vegetables: "‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Ç",
                grains: "‡§Ö‡§®‡§æ‡§ú",
                fruits: "‡§´‡§≤",
                no_listings: "‡§ï‡•ã‡§à ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä",
                order_mgmt: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®",
                track_sales: "‡§Ö‡§™‡§®‡•Ä ‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§ï‡•ã ‡§ï‡•Å‡§∂‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§",
                export_report: "‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°",
                total_orders: "‡§ï‡•Å‡§≤ ‡§ë‡§∞‡•ç‡§°‡§∞",
                lifetime_sales: "‡§ú‡•Ä‡§µ‡§®‡§ï‡§æ‡§≤ ‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä",
                pending: "‡§≤‡§Ç‡§¨‡§ø‡§§",
                requires_action: "‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§à ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï",
                tab_all: "‡§∏‡§≠‡•Ä",
                tab_pending: "‡§≤‡§Ç‡§¨‡§ø‡§§",
                tab_completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
                th_id: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§à‡§°‡•Ä",
                th_product: "‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§î‡§∞ ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞",
                th_date: "‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï",
                th_amount: "‡§∞‡§æ‡§∂‡§ø",
                th_status: "‡§∏‡•ç‡§•‡§ø‡§§‡§ø",
                th_actions: "‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§à",
                edit_cover: "‡§ï‡§µ‡§∞ ‡§¨‡§¶‡§≤‡•á‡§Ç",
                edit_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§¨‡§¶‡§≤‡•á‡§Ç",
                active_listings: "‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                buyer_rating: "‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§∞‡•á‡§ü‡§ø‡§Ç‡§ó",
                membership: "‡§∏‡§¶‡§∏‡•ç‡§Ø‡§§‡§æ",
                personal_info: "‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä",
                recent_sales: "‡§π‡§æ‡§≤ ‡§ï‡•á ‡§ë‡§∞‡•ç‡§°‡§∞ (‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä)",
                view_all_orders: "‡§∏‡§≠‡•Ä ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                my_inventory: "‡§Æ‡•á‡§∞‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶ / ‡§á‡§®‡•ç‡§µ‡•á‡§Ç‡§ü‡§∞‡•Ä",
                new_listing: "‡§®‡§à ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                publish: "‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç",
                avg_quintal: "‡§î‡§∏‡§§ / ‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤",
                verified: "‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§",
                my_stock: "‡§Æ‡•á‡§∞‡§æ ‡§∏‡•ç‡§ü‡•â‡§ï",
                view_details: "‡§µ‡§ø‡§µ‡§∞‡§£ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                no_orders: "‡§ï‡•ã‡§à ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§",
                counter_offer: "‡§ú‡§µ‡§æ‡§¨‡•Ä ‡§™‡•á‡§∂‡§ï‡§∂",
                proposal_sent: "‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ ‡§≠‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ‡•§",
                search_placeholder: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§à‡§°‡•Ä ‡§Ø‡§æ ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§ñ‡•ã‡§ú‡•á‡§Ç...",
                search_market_placeholder: "‡§´‡§∏‡§≤ ‡§Ø‡§æ ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§ñ‡•ã‡§ú‡•á‡§Ç...",
                completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
                cancelled: "‡§∞‡§¶‡•ç‡§¶"
            },
            mr: {
                app_subtitle: "‡§∂‡•á‡§§‡§ï‡§∞‡•Ä ‡§∏‡•Å‡§á‡§ü",
                nav_dashboard: "‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
                nav_market: "‡§¨‡§æ‡§ú‡§æ‡§∞",
                nav_orders: "‡§ë‡§∞‡•ç‡§°‡§∞‡•ç‡§∏",
                nav_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤",
                mandi_live: "‡§Æ‡§Ç‡§°‡•Ä ‡§≤‡§æ‡§á‡§µ",
                good_afternoon: "‡§∂‡•Å‡§≠ ‡§¶‡•Å‡§™‡§æ‡§∞",
                market_insight_text: "‡§Ü‡§ú <span class='font-bold text-white'>‡§π‡§æ‡§Ø‡§¨‡•ç‡§∞‡§ø‡§° ‡§ü‡•ã‡§Æ‡•Ö‡§ü‡•ã</span> ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü 12% ‡§µ‡§∞ ‡§Ü‡§π‡•á. ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä‡§ö‡•Ä ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§µ‡•á‡§≥.",
                sunny: "‡§∏‡•Ç‡§∞‡•ç‡§Ø‡§™‡•ç‡§∞‡§ï‡§æ‡§∂",
                create_listing: "‡§®‡§µ‡•Ä‡§® ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                view_orders_btn: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡§π‡§æ",
                total_revenue: "‡§è‡§ï‡•Ç‡§£ ‡§Æ‡§π‡§∏‡•Ç‡§≤",
                live_rates: "‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ",
                see_orders: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡§π‡§æ",
                direct_requests: "‡§•‡•á‡§ü ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞ ‡§µ‡§ø‡§®‡§Ç‡§§‡•ç‡§Ø‡§æ",
                verified_msg: "‡§Ü‡§™‡§≤‡•ç‡§Ø‡§æ ‡§™‡§ø‡§ï‡§æ‡§∏‡§æ‡§†‡•Ä ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞",
                accept: "‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞‡§æ",
                decline: "‡§®‡§ï‡§æ‡§∞‡§æ",
                negotiations: "‡§µ‡§æ‡§ü‡§æ‡§ò‡§æ‡§ü‡•Ä",
                waiting: "‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ",
                view_history: "‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§™‡§π‡§æ",
                all_stock: "‡§∏‡§∞‡•ç‡§µ ‡§∏‡§æ‡§†‡§æ",
                vegetables: "‡§≠‡§æ‡§ú‡•ç‡§Ø‡§æ",
                grains: "‡§ß‡§æ‡§®‡•ç‡§Ø",
                fruits: "‡§´‡§≥‡•á",
                no_listings: "‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§∏‡§æ‡§™‡§°‡§≤‡•Ä ‡§®‡§æ‡§π‡•Ä",
                order_mgmt: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®",
                track_sales: "‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä‡§ö‡§æ ‡§Æ‡§æ‡§ó‡•ã‡§µ‡§æ ‡§ò‡•ç‡§Ø‡§æ.",
                export_report: "‡§Ö‡§π‡§µ‡§æ‡§≤ ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°",
                total_orders: "‡§è‡§ï‡•Ç‡§£ ‡§ë‡§∞‡•ç‡§°‡§∞",
                lifetime_sales: "‡§è‡§ï‡•Ç‡§£ ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä",
                pending: "‡§™‡•ç‡§∞‡§≤‡§Ç‡§¨‡§ø‡§§",
                requires_action: "‡§ï‡•É‡§§‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï",
                tab_all: "‡§∏‡§∞‡•ç‡§µ",
                tab_pending: "‡§™‡•ç‡§∞‡§≤‡§Ç‡§¨‡§ø‡§§",
                tab_completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
                th_id: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§Ø‡§°‡•Ä",
                th_product: "‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§Ü‡§£‡§ø ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞",
                th_date: "‡§§‡§æ‡§∞‡•Ä‡§ñ",
                th_amount: "‡§∞‡§ï‡•ç‡§ï‡§Æ",
                th_status: "‡§∏‡•ç‡§•‡§ø‡§§‡•Ä",
                th_actions: "‡§ï‡•É‡§§‡•Ä",
                edit_cover: "‡§ï‡§µ‡•ç‡§π‡§∞ ‡§¨‡§¶‡§≤‡§æ",
                edit_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§æ",
                active_listings: "‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                buyer_rating: "‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞ ‡§∞‡•á‡§ü‡§ø‡§Ç‡§ó",
                membership: "‡§∏‡§¶‡§∏‡•ç‡§Ø‡§§‡•ç‡§µ",
                personal_info: "‡§µ‡•à‡§Ø‡§ï‡•ç‡§§‡§ø‡§ï ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä",
                recent_sales: "‡§Ö‡§≤‡•Ä‡§ï‡§°‡•Ä‡§≤ ‡§ë‡§∞‡•ç‡§°‡§∞ (‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä)",
                view_all_orders: "‡§∏‡§∞‡•ç‡§µ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡§π‡§æ",
                my_inventory: "‡§Æ‡§æ‡§ù‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® / ‡§∏‡§æ‡§†‡§æ",
                new_listing: "‡§®‡§µ‡•Ä‡§® ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                publish: "‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§ø‡§§ ‡§ï‡§∞‡§æ",
                avg_quintal: "‡§∏‡§∞‡§æ‡§∏‡§∞‡•Ä / ‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤",
                verified: "‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§",
                my_stock: "‡§Æ‡§æ‡§ù‡§æ ‡§∏‡§æ‡§†‡§æ",
                view_details: "‡§§‡§™‡§∂‡•Ä‡§≤ ‡§™‡§π‡§æ",
                no_orders: "‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§æ‡§™‡§°‡§≤‡•á ‡§®‡§æ‡§π‡•Ä‡§§.",
                counter_offer: "‡§™‡•ç‡§∞‡§§‡§ø ‡§ë‡§´‡§∞",
                proposal_sent: "‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ ‡§™‡§æ‡§†‡§µ‡§≤‡§æ.",
                search_placeholder: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§Ø‡§°‡•Ä ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞ ‡§∂‡•ã‡§ß‡§æ...",
                search_market_placeholder: "‡§™‡•Ä‡§ï ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞ ‡§∂‡•ã‡§ß‡§æ...",
                completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
                cancelled: "‡§∞‡§¶‡•ç‡§¶"
            },
            kn: {
                app_subtitle: "‡≤∞‡≥à‡≤§ ‡≤Æ‡≤ø‡≤§‡≥ç‡≤∞",
                nav_dashboard: "‡≤°‡≥ç‡≤Ø‡≤æ‡≤∂‡≥ç‚Äå‡≤¨‡≥ã‡≤∞‡≥ç‡≤°‡≥ç",
                nav_market: "‡≤Æ‡≤æ‡≤∞‡≥Å‡≤ï‡≤ü‡≥ç‡≤ü‡≥Ü",
                nav_orders: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≥Å",
                nav_profile: "‡≤™‡≥ç‡≤∞‡≥ä‡≤´‡≥à‡≤≤‡≥ç",
                mandi_live: "‡≤Æ‡≤Ç‡≤°‡≤ø ‡≤≤‡≥à‡≤µ‡≥ç",
                good_afternoon: "‡≤∂‡≥Å‡≤≠ ‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤æ‡≤π‡≥ç‡≤®",
                market_insight_text: "‡≤á‡≤Ç‡≤¶‡≥Å <span class='font-bold text-white'>‡≤π‡≥à‡≤¨‡≥ç‡≤∞‡≤ø‡≤°‡≥ç ‡≤ü‡≥ä‡≤Æ‡≥Ü‡≤ü‡≥ä</span> ‡≤Æ‡≤æ‡≤∞‡≥Å‡≤ï‡≤ü‡≥ç‡≤ü‡≥Ü 12% ‡≤è‡≤∞‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤∏‡≥Ç‡≤ï‡≥ç‡≤§ ‡≤∏‡≤Æ‡≤Ø.",
                sunny: "‡≤¨‡≤ø‡≤∏‡≤ø‡≤≤‡≥Å",
                create_listing: "‡≤π‡≥ä‡≤∏ ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø",
                view_orders_btn: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≥Å",
                total_revenue: "‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Ü‡≤¶‡≤æ‡≤Ø",
                live_rates: "‡≤¶‡≤∞‡≤ó‡≤≥‡≥Å",
                see_orders: "‡≤®‡≥ã‡≤°‡≤ø",
                direct_requests: "‡≤®‡≥á‡≤∞ ‡≤¨‡≥á‡≤°‡≤ø‡≤ï‡≥Ü‡≤ó‡≤≥‡≥Å",
                verified_msg: "‡≤¶‡≥É‡≤¢‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø‡≤¶ ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤¶‡≤æ‡≤∞‡≤∞‡≥Å",
                accept: "‡≤í‡≤™‡≥ç‡≤™‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø",
                decline: "‡≤§‡≤ø‡≤∞‡≤∏‡≥ç‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø",
                negotiations: "‡≤ö‡≥å‡≤ï‡≤æ‡≤∂‡≤ø",
                waiting: "‡≤®‡≤ø‡≤∞‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥Ü",
                view_history: "‡≤á‡≤§‡≤ø‡≤π‡≤æ‡≤∏",
                all_stock: "‡≤é‡≤≤‡≥ç‡≤≤‡≤æ",
                vegetables: "‡≤§‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø",
                grains: "‡≤ß‡≤æ‡≤®‡≥ç‡≤Ø",
                fruits: "‡≤π‡≤£‡≥ç‡≤£‡≥Å",
                no_listings: "‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø ‡≤á‡≤≤‡≥ç‡≤≤",
                order_mgmt: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≥Ü",
                track_sales: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ü‡≥ç‡≤∞‡≥ç‡≤Ø‡≤æ‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø.",
                export_report: "‡≤µ‡≤∞‡≤¶‡≤ø ‡≤°‡≥å‡≤®‡≥ç‚Äå‡≤≤‡≥ã‡≤°‡≥ç",
                total_orders: "‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≥Å",
                lifetime_sales: "‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü",
                pending: "‡≤¨‡≤æ‡≤ï‡≤ø ‡≤á‡≤¶‡≥Ü",
                requires_action: "‡≤ó‡≤Æ‡≤®‡≤π‡≤∞‡≤ø‡≤∏‡≤ø",
                tab_all: "‡≤é‡≤≤‡≥ç‡≤≤‡≤æ",
                tab_pending: "‡≤¨‡≤æ‡≤ï‡≤ø",
                tab_completed: "‡≤™‡≥Ç‡≤∞‡≥ç‡≤£‡≤ó‡≥ä‡≤Ç‡≤°‡≤ø‡≤¶‡≥Ü",
                th_id: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç ID",
                th_product: "‡≤â‡≤§‡≥ç‡≤™‡≤®‡≥ç‡≤® ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤¶‡≤æ‡≤∞",
                th_date: "‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï",
                th_amount: "‡≤Æ‡≥ä‡≤§‡≥ç‡≤§",
                th_status: "‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø",
                th_actions: "‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü",
                edit_cover: "‡≤ï‡≤µ‡≤∞‡≥ç ‡≤¨‡≤¶‡≤≤‡≤ø‡≤∏‡≤ø",
                edit_profile: "‡≤™‡≥ç‡≤∞‡≥ä‡≤´‡≥à‡≤≤‡≥ç ‡≤§‡≤ø‡≤¶‡≥ç‡≤¶‡≤ø",
                active_listings: "‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø‡≤ó‡≤≥‡≥Å",
                buyer_rating: "‡≤∞‡≥á‡≤ü‡≤ø‡≤Ç‡≤ó‡≥ç",
                membership: "‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ",
                personal_info: "‡≤µ‡≥à‡≤Ø‡≤ï‡≥ç‡≤§‡≤ø‡≤ï ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø",
                recent_sales: "‡≤á‡≤§‡≥ç‡≤§‡≥Ä‡≤ö‡≤ø‡≤® ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü",
                view_all_orders: "‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≥Å",
                my_inventory: "‡≤®‡≤®‡≥ç‡≤® ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≥Å / ‡≤¶‡≤æ‡≤∏‡≥ç‡≤§‡≤æ‡≤®‡≥Å",
                new_listing: "‡≤π‡≥ä‡≤∏ ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø",
                publish: "‡≤™‡≥ç‡≤∞‡≤ï‡≤ü‡≤ø‡≤∏‡≤ø",
                avg_quintal: "‡≤∏‡≤∞‡≤æ‡≤∏‡≤∞‡≤ø / ‡≤ï‡≥ç‡≤µ‡≤ø‡≤Ç‡≤ü‡≤æ‡≤≤‡≥ç",
                verified: "‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü",
                my_stock: "‡≤®‡≤®‡≥ç‡≤® ‡≤¶‡≤æ‡≤∏‡≥ç‡≤§‡≤æ‡≤®‡≥Å",
                view_details: "‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≥Å",
                no_orders: "‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≤ø‡≤≤‡≥ç‡≤≤.",
                counter_offer: "‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤¨‡≥Ü‡≤≤‡≥Ü",
                proposal_sent: "‡≤™‡≥ç‡≤∞‡≤∏‡≥ç‡≤§‡≤æ‡≤™ ‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü.",
                search_placeholder: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç ID ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤¶‡≤æ‡≤∞‡≤®‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Å‡≤°‡≥Å‡≤ï‡≤ø...",
                search_market_placeholder: "‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤¶‡≤æ‡≤∞‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Å‡≤°‡≥Å‡≤ï‡≤ø...",
                completed: "‡≤™‡≥Ç‡≤∞‡≥ç‡≤£‡≤ó‡≥ä‡≤Ç‡≤°‡≤ø‡≤¶‡≥Ü",
                cancelled: "‡≤∞‡≤¶‡≥ç‡≤¶‡≥Å‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü"
            }
        };
        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderPrices();
            renderListings();
            renderProfileOrders();
            renderFullOrderSummary();
            updateProfileUI();
            updateTranslations();
            // Global Click Listener for Menu Closing
            window.addEventListener('click', function(e) {
                const btn = document.getElementById('lang-btn');
                const menu = document.getElementById('lang-menu');
                const arrow = document.getElementById('lang-arrow');
                if (btn && menu && !btn.contains(e.target) && !menu.contains(e.target)) {
                    menu.classList.add('hidden');
                    if(arrow) arrow.classList.remove('rotate-180');
                }
            });
        });
        // --- Helper Function for Translation ---
        function t(key) {
            return translations[state.currentLang][key] || key;
        }
        // Helper to translate product names within strings
        function tProduct(text) {
            if (state.currentLang === 'en') return text;
            let translatedText = text;
            Object.keys(product_names).forEach(engName => {
                if (translatedText.includes(engName)) {
                    const trans = product_names[engName][state.currentLang];
                    if (trans) {
                        // Case insensitive replacement
                        const regex = new RegExp(engName, 'gi');
                        translatedText = translatedText.replace(regex, trans);
                    }
                }
            });
            return translatedText;
        }
        // --- Language Logic ---
        function toggleLangMenu(event) {
            event.stopPropagation();
            const menu = document.getElementById('lang-menu');
            const arrow = document.getElementById('lang-arrow');
            menu.classList.toggle('hidden');
            arrow.classList.toggle('rotate-180');
        }
        function changeLanguage(lang) {
            state.currentLang = lang;
            updateTranslations();
            // Re-render dynamic components
            renderPrices();
            renderListings(); 
            renderProfileOrders();
            renderFullOrderSummary(); 
            // Update Dropdown Label
            const labels = { 'en': 'English', 'hi': '‡§π‡§ø‡§Ç‡§¶‡•Ä', 'mr': '‡§Æ‡§∞‡§æ‡§†‡•Ä', 'kn': '‡≤ï‡≤®‡≥ç‡≤®‡≤°' };
            document.getElementById('current-lang-label').innerText = labels[lang];
            // Update Checkmarks visually
            document.querySelectorAll('[id^="check-"]').forEach(el => el.classList.remove('opacity-100'));
            document.querySelectorAll('[id^="check-"]').forEach(el => el.classList.add('opacity-0'));
            const activeCheck = document.getElementById(`check-${lang}`);
            if(activeCheck) {
                activeCheck.classList.remove('opacity-0');
                activeCheck.classList.add('opacity-100');
            }
            // Close Menu
            const menu = document.getElementById('lang-menu');
            const arrow = document.getElementById('lang-arrow');
            menu.classList.add('hidden');
            arrow.classList.remove('rotate-180');
        }
        function updateTranslations() {
            // Update text content
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(el => {
                const key = el.getAttribute('data-translate');
                if (translations[state.currentLang][key]) {
                    el.innerHTML = translations[state.currentLang][key];
                }
            });
            // Update placeholders
            const inputs = document.querySelectorAll('[data-translate-placeholder]');
            inputs.forEach(el => {
                const key = el.getAttribute('data-translate-placeholder');
                if (translations[state.currentLang][key]) {
                    el.placeholder = translations[state.currentLang][key];
                }
            });
        }
        // --- Navigation Logic ---
        function switchTab(tabId) {
            // Hide all sections
            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.remove('active');
            });
            // Show target
            const target = document.getElementById(tabId);
            if(target) target.classList.add('active');
            // Desktop Nav Update
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('nav-active', 'bg-slate-100');
            });
            const activeDesktop = document.getElementById(`nav-${tabId}`);
            if(activeDesktop) activeDesktop.classList.add('nav-active');
            // Mobile Nav Update
            document.querySelectorAll('.mob-nav-btn').forEach(el => {
                el.classList.remove('mob-active', 'text-brand-700');
                el.classList.add('text-slate-400');
            });
            const activeMobile = document.getElementById(`mob-${tabId}`);
            if(activeMobile) {
                activeMobile.classList.remove('text-slate-400');
                activeMobile.classList.add('mob-active', 'text-brand-700');
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        // --- Data Rendering ---
        function renderPrices() {
            const container = document.getElementById('hero-price-ticker');
            if(!container) return;
            container.innerHTML = state.marketPrices.map(item => {
                const isUp = item.trend === 'up';
                const isDown = item.trend === 'down';
                const colorClass = isUp ? 'text-green-600 bg-green-50' : (isDown ? 'text-red-600 bg-red-50' : 'text-slate-500 bg-slate-50');
                const icon = isUp ? 'fa-caret-up' : (isDown ? 'fa-caret-down' : 'fa-minus');
                return `
                <div class="flex items-center justify-between p-3 rounded-xl hover:bg-slate-50 transition-colors border-b border-dashed border-slate-100 last:border-0 group">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-lg ${colorClass} flex items-center justify-center text-xs">
                             <i class="fa-solid ${icon}"></i>
                        </div>
                        <div>
                            <p class="font-bold text-slate-800 text-sm leading-tight group-hover:text-brand-700 transition-colors">${tProduct(item.name)}</p>
                            <p class="text-[10px] text-slate-400 font-bold uppercase tracking-wider">‚Çπ${item.price} / Qtl</p>
                        </div>
                    </div>
                    <span class="text-xs font-bold ${isUp ? 'text-green-600' : (isDown ? 'text-red-600' : 'text-slate-400')}">
                        ${isUp ? '+' : ''}${item.change}%
                    </span>
                </div>
                `;
            }).join('');
        }
        function renderProfileOrders() {
            const container = document.getElementById('orders-list');
            if(!container) return;
            container.innerHTML = state.orders.map(order => {
                let displayStatus = order.status;
                if(order.status === 'Completed') displayStatus = t('completed');
                else if(order.status === 'Pending') displayStatus = t('pending');
                return `
                <div class="flex items-center justify-between p-3 rounded-xl bg-earth-50 border border-transparent hover:border-earth-200 transition-all">
                    <div>
                        <p class="font-bold text-slate-800 text-sm">${tProduct(order.item)}</p>
                        <p class="text-[10px] text-slate-500 font-bold tracking-wide">${order.buyer}</p>
                    </div>
                    <div class="text-right">
                        <p class="font-bold text-slate-900 text-sm">‚Çπ${order.amount.toLocaleString()}</p>
                        <span class="text-[9px] font-bold uppercase tracking-wider ${order.status === 'Completed' ? 'text-green-600' : 'text-amber-600'}">${displayStatus}</span>
                    </div>
                </div>
            `}).join('');
        }
        function renderFullOrderSummary(filterStatus = 'All', filterText = '') {
            const container = document.getElementById('full-order-table-body');
            if(!container) return;
            let filtered = state.orders;
            // Apply Status Filter
            if (filterStatus !== 'All') {
                filtered = filtered.filter(o => o.status === filterStatus);
            }
            // Apply Search Filter
            if (filterText) {
                const lower = filterText.toLowerCase();
                filtered = filtered.filter(o => 
                    o.id.toLowerCase().includes(lower) || 
                    o.buyer.toLowerCase().includes(lower) ||
                    o.item.toLowerCase().includes(lower)
                );
            }
            if (filtered.length === 0) {
                container.innerHTML = `
                    <tr>
                        <td colspan="6" class="py-12 text-center">
                            <div class="flex flex-col items-center justify-center text-slate-300">
                                <i class="fa-solid fa-box-open text-4xl mb-3"></i>
                                <p class="text-sm font-bold text-slate-500">${t('no_orders')}</p>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }
            container.innerHTML = filtered.map(order => {
                const statusStyles = {
                    'Completed': 'bg-green-100 text-green-700 border-green-200 icon-check',
                    'Pending': 'bg-amber-100 text-amber-700 border-amber-200 icon-clock',
                    'Cancelled': 'bg-red-100 text-red-700 border-red-200 icon-xmark'
                };
                const style = statusStyles[order.status] || 'bg-slate-100 text-slate-600';
                const icon = order.status === 'Completed' ? 'fa-check' : (order.status === 'Pending' ? 'fa-clock' : 'fa-xmark');
                let displayStatus = order.status;
                if(order.status === 'Completed') displayStatus = t('completed');
                else if(order.status === 'Pending') displayStatus = t('pending');
                else if(order.status === 'Cancelled') displayStatus = t('cancelled');
                return `
                <tr class="hover:bg-brand-50/30 transition-colors group">
                    <td class="py-4 pl-6 font-bold text-brand-600 font-mono text-xs">${order.id}</td>
                    <td class="py-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-xl bg-earth-100 flex items-center justify-center text-lg shadow-sm group-hover:scale-110 transition-transform">
                                ${order.category === 'vegetable' ? 'üçÖ' : (order.category === 'fruit' ? 'üçä' : 'üåæ')}
                            </div>
                            <div>
                                <p class="font-bold text-slate-900">${tProduct(order.item)}</p>
                                <div class="flex items-center gap-1.5 text-xs text-slate-500">
                                    <span class="font-bold text-slate-700">${order.buyer}</span>
                                    <span class="w-1 h-1 rounded-full bg-slate-300"></span>
                                    <span>${order.qty}</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td class="py-4 text-slate-500 text-xs font-bold">${order.date}</td>
                    <td class="py-4 font-bold text-slate-900">‚Çπ${order.amount.toLocaleString()}</td>
                    <td class="py-4">
                        <span class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold border ${style} uppercase tracking-wide">
                            <i class="fa-solid ${icon}"></i> ${displayStatus}
                        </span>
                    </td>
                    <td class="py-4 pr-6 text-right">
                        <button class="w-8 h-8 rounded-lg border border-slate-200 text-slate-400 hover:text-brand-600 hover:border-brand-200 hover:bg-white hover:shadow-sm transition-all flex items-center justify-center bg-slate-50" title="${t('view_details')}">
                            <i class="fa-solid fa-angle-right"></i>
                        </button>
                    </td>
                </tr>
                `;
            }).join('');
        }
        function renderListings(filterText = '', category = 'all') {
            const container = document.getElementById('marketplace-grid');
            const noResults = document.getElementById('no-results');
            // Filter Logic
            const filtered = state.listings.filter(item => {
                const matchesSearch = item.name.toLowerCase().includes(filterText.toLowerCase()) || 
                                    item.farmer.toLowerCase().includes(filterText.toLowerCase());
                const matchesCat = category === 'all' || item.category === category;
                return matchesSearch && matchesCat;
            });
            if (filtered.length === 0) {
                container.innerHTML = '';
                noResults.classList.remove('hidden');
                return;
            } else {
                noResults.classList.add('hidden');
            }
            container.innerHTML = filtered.map(item => `
                <div class="bg-white rounded-[2rem] overflow-hidden border border-earth-100 shadow-card group hover:translate-y-[-5px] transition-transform duration-300 flex flex-col h-full hover:shadow-depth">
                    <div class="relative h-56 overflow-hidden">
                        <img src="${item.img}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" alt="${item.name}">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-60"></div>
                        <div class="absolute top-4 right-4 bg-white/95 backdrop-blur px-3 py-1.5 rounded-xl text-xs font-bold text-slate-900 shadow-sm border border-white/20">
                            ‚Çπ${item.price}/kg
                        </div>
                        ${item.verified ? `<div class="absolute bottom-4 left-4 bg-green-500/90 backdrop-blur text-white text-[10px] font-bold px-2.5 py-1 rounded-lg flex items-center gap-1 shadow-sm"><i class="fa-solid fa-certificate"></i> ${t('verified')}</div>` : ''}
                        ${item.isMine ? `<div class="absolute top-4 left-4 bg-brand-600/90 backdrop-blur text-white text-[10px] font-bold px-2.5 py-1 rounded-lg shadow-sm">${t('my_stock')}</div>` : ''}
                    </div>
                    <div class="p-6 flex flex-col flex-1">
                        <div class="mb-4">
                            <h3 class="font-bold text-slate-900 text-lg leading-tight line-clamp-1 group-hover:text-brand-700 transition-colors">${tProduct(item.name)}</h3>
                            <p class="text-xs text-slate-500 mt-1 font-medium flex items-center"><i class="fa-solid fa-location-dot mr-1.5 text-brand-500"></i> ${item.loc}</p>
                        </div>
                        <div class="mt-auto pt-4 border-t border-earth-100 flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-9 h-9 rounded-full bg-earth-100 flex items-center justify-center text-xs font-bold text-slate-600 border border-earth-200 shadow-sm">
                                    ${item.farmer.charAt(0)}
                                </div>
                                <div>
                                    <p class="text-xs font-bold text-slate-800 line-clamp-1">${item.farmer}</p>
                                    <p class="text-[10px] text-slate-400 font-bold uppercase tracking-wider">${item.time}</p>
                                </div>
                            </div>
                            <button onclick="contactFarmer('${item.name}')" class="bg-earth-50 text-slate-400 border border-earth-200 hover:bg-brand-600 hover:text-white hover:border-brand-600 transition-colors w-10 h-10 rounded-xl flex items-center justify-center">
                                <i class="fa-solid fa-phone text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            // Also update Profile History
            renderProfileHistory();
        }
        // --- Marketplace Filters ---
        function filterMarketplace() {
            const searchVal = document.getElementById('market-search').value;
            // Simplified: Reset filters to 'all' visually if searching, for this demo
            // In a real app, we'd keep track of active category state
            renderListings(searchVal, 'all'); 
            document.querySelectorAll('.market-filter').forEach(btn => {
                btn.classList.remove('active', 'bg-brand-900', 'text-white');
                btn.classList.add('bg-white', 'text-slate-600');
                if(btn.innerText.includes("All") || btn.innerText.includes("‡§∏‡§≠‡•Ä") || btn.innerText.includes("‡§∏‡§∞‡•ç‡§µ") || btn.innerText.includes("‡≤é‡≤≤‡≥ç‡≤≤‡≤æ")) {
                     btn.classList.add('active', 'bg-brand-900', 'text-white');
                     btn.classList.remove('bg-white', 'text-slate-600');
                }
            });
        }
        function filterCategory(cat) {
            const searchVal = document.getElementById('market-search').value;
            renderListings(searchVal, cat);
            // Update Button Styles
            document.querySelectorAll('.market-filter').forEach(btn => {
                btn.classList.remove('active', 'bg-brand-900', 'text-white');
                btn.classList.add('bg-white', 'text-slate-600');
            });
            event.target.classList.add('active', 'bg-brand-900', 'text-white');
            event.target.classList.remove('bg-white', 'text-slate-600');
        }
        // --- Profile Logic ---
        function updateProfileUI() {
            document.querySelectorAll('.user-name-display').forEach(el => el.innerText = state.user.name);
            document.querySelectorAll('.user-email-display').forEach(el => el.innerText = state.user.email);
            document.querySelectorAll('.user-phone-display').forEach(el => el.innerText = state.user.phone);
            document.querySelectorAll('.user-address-display').forEach(el => el.innerText = state.user.address);
            document.querySelectorAll('.user-farm-display').forEach(el => {
                // Keep the icon if it exists inside
                const icon = el.querySelector('i');
                el.innerText = ` ${state.user.farmName} ‚Ä¢ ${state.user.location}`;
                if(icon) el.prepend(icon);
            });
            // Pre-fill inputs
            document.getElementById('edit-name').value = state.user.name;
            document.getElementById('edit-farm').value = state.user.farmName;
            document.getElementById('edit-location').value = state.user.location;
            document.getElementById('edit-phone').value = state.user.phone;
            // Count Listings
            const myCount = state.listings.filter(l => l.isMine).length;
            document.getElementById('profile-listings-count').innerText = myCount;
        }
        function renderProfileHistory() {
            const myListings = state.listings.filter(l => l.isMine);
            const container = document.getElementById('profile-history-list');
            if(myListings.length === 0) {
                container.innerHTML = '<div class="col-span-2 text-center py-8 text-slate-400 italic">No inventory listed yet.</div>';
                return;
            }
            container.innerHTML = myListings.map(item => `
                <div class="flex items-center gap-4 bg-white p-4 rounded-2xl border border-earth-100 shadow-sm hover:shadow-md transition-shadow group">
                    <img src="${item.img}" class="w-16 h-16 rounded-xl object-cover" alt="thumb">
                    <div class="flex-1">
                        <h4 class="font-bold text-slate-900 text-sm">${tProduct(item.name)}</h4>
                        <div class="flex items-center gap-3 mt-1">
                            <span class="text-xs text-slate-500 font-medium bg-earth-50 px-2 py-0.5 rounded">${item.qty}</span>
                            <span class="text-xs text-brand-700 font-bold">‚Çπ${item.price}/kg</span>
                        </div>
                    </div>
                    <button class="w-8 h-8 rounded-lg text-slate-400 hover:text-red-500 hover:bg-red-50 transition-colors flex items-center justify-center">
                        <i class="fa-solid fa-trash-can"></i>
                    </button>
                </div>
            `).join('');
        }
        function toggleEditProfile() {
            const form = document.getElementById('edit-profile-form');
            form.classList.toggle('hidden');
        }
        function saveProfile() {
            state.user.name = document.getElementById('edit-name').value;
            state.user.farmName = document.getElementById('edit-farm').value;
            state.user.location = document.getElementById('edit-location').value;
            state.user.phone = document.getElementById('edit-phone').value;
            updateProfileUI();
            toggleEditProfile();
            showToast('Profile updated successfully!');
        }
        function filterOrders(status) {
            // Update UI Tabs
            document.querySelectorAll('.order-tab').forEach(btn => {
                btn.classList.remove('active', 'bg-slate-900', 'text-white', 'shadow-md');
                btn.classList.add('text-slate-500');
            });
            const activeBtn = document.getElementById(`tab-${status}`);
            activeBtn.classList.add('active', 'bg-slate-900', 'text-white', 'shadow-md');
            activeBtn.classList.remove('text-slate-500');
            // Filter Data
            const searchVal = document.getElementById('order-search').value;
            renderFullOrderSummary(status, searchVal);
        }
        function searchOrders() {
            const searchVal = document.getElementById('order-search').value;
            // Get active tab status
            let activeStatus = 'All';
            document.querySelectorAll('.order-tab').forEach(btn => {
                if(btn.classList.contains('active')) activeStatus = btn.id.split('-')[1];
            });
            renderFullOrderSummary(activeStatus, searchVal);
        }
        // --- Interaction Logic ---
        function handleRequest(elementId, action) {
            const el = document.getElementById(elementId);
            el.style.transform = 'translateX(100%)';
            el.style.opacity = '0';
            setTimeout(() => {
                el.style.display = 'none';
                // Check if empty
                const container = document.getElementById('requests-container');
                // Simple check for demo purposes
                let visible = 0;
                Array.from(container.children).forEach(c => {
                    if(c.style.display !== 'none') visible++;
                });
                if(visible === 0) {
                    container.innerHTML = '<div class="p-8 text-center text-slate-400 text-sm font-medium border-2 border-dashed border-earth-100 rounded-2xl">No active requests at the moment.</div>';
                }
            }, 300);
            showToast(`Request ${action}.`);
        }
        function contactFarmer(itemName) {
            showToast(`Calling owner...`);
        }
        // --- Modal Logic ---
        function openModal() {
            const modal = document.getElementById('listingModal');
            const backdrop = document.getElementById('modalBackdrop');
            const content = document.getElementById('modalContent');
            modal.classList.remove('hidden');
            setTimeout(() => {
                backdrop.classList.remove('opacity-0');
                content.classList.remove('opacity-0', 'translate-y-full');
                if(window.innerWidth >= 768) content.classList.remove('md:translate-y-10'); 
            }, 10);
        }
        function closeModal() {
            const modal = document.getElementById('listingModal');
            const backdrop = document.getElementById('modalBackdrop');
            const content = document.getElementById('modalContent');
            backdrop.classList.add('opacity-0');
            content.classList.add('opacity-0', 'translate-y-full');
            if(window.innerWidth >= 768) content.classList.add('md:translate-y-10'); 
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }
        function submitListing() {
            const name = document.getElementById('itemName').value;
            const price = document.getElementById('itemPrice').value;
            const qty = document.getElementById('itemQty').value;
            const cat = document.getElementById('itemCat').value;
            if(!name || !price || !qty) {
                showToast('Please fill all fields', 'Error');
                return;
            }
            // Add to State
            state.listings.unshift({
                id: Date.now(),
                name: name,
                category: cat,
                price: price,
                qty: qty + ' kg',
                farmer: state.user.name,
                loc: 'Pune, MH', // Default for demo
                time: 'Just now',
                img: 'https://images.unsplash.com/photo-1615484477778-ca3b77940c25?auto=format&fit=crop&q=80&w=600',
                verified: true,
                isMine: true
            });
            // Refresh Views
            renderListings();
            updateProfileUI(); // Update count
            closeModal();
            // Show Success
            showToast('Your produce is live! üöÄ');
            setTimeout(() => switchTab('marketplace'), 500);
            // Reset form
            document.getElementById('itemName').value = '';
            document.getElementById('itemPrice').value = '';
            document.getElementById('itemQty').value = '';
        }
        function showToast(message, title='Success') {
            const toast = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = message;
            document.getElementById('toast-title').innerText = title;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AgriConnect | Professional Farmer Suite</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                        display: ['"Outfit"', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                            950: '#052e16',
                        },
                        earth: {
                            50: '#fbfaf8',
                            100: '#f5f2eb',
                            200: '#e6e0d4',
                            800: '#5c5245',
                        },
                        accent: {
                            500: '#f59e0b',
                            600: '#d97706',
                        },
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'glow': '0 0 20px rgba(34, 197, 94, 0.25)',
                        'card': '0 10px 30px -5px rgba(0,0,0,0.06)',
                        'depth': '0 20px 40px -10px rgba(22, 101, 52, 0.15)',
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                }
            }
        }
    </script>
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        body {
            background-color: #fbfaf8; /* Warm Earth Tone */
            -webkit-tap-highlight-color: transparent;
        }
        .glass {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.04);
        }
        .glass-dark {
            background: rgba(20, 83, 45, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-item {
            position: relative;
            overflow: hidden;
        }
        .nav-active {
            background-color: #15803d;
            color: white;
            box-shadow: 0 4px 12px rgba(21, 128, 61, 0.25);
        }
        /* Smooth Fade In */
        .view-section {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        .view-section.active { display: block; }
        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }
        /* Toast Animation */
        #toast {
            visibility: hidden;
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        .custom-pattern {
            background-image: radial-gradient(#166534 0.5px, transparent 0.5px), radial-gradient(#166534 0.5px, #fbfaf8 0.5px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            opacity: 0.03;
        }
    </style>
</head>
<body class="text-slate-800 antialiased pb-28 md:pb-12 relative">
    <!-- Background Texture -->
    <div class="fixed inset-0 custom-pattern pointer-events-none z-[-1]"></div>
    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-24 md:bottom-10 left-1/2 z-[100] flex items-center gap-3 bg-slate-900/95 backdrop-blur text-white px-6 py-4 rounded-2xl shadow-depth min-w-[300px] border border-white/10">
        <div class="w-8 h-8 bg-brand-500 rounded-full flex items-center justify-center text-slate-900 shrink-0">
            <i class="fa-solid fa-check"></i>
        </div>
        <div>
            <h4 class="font-bold text-sm tracking-wide" id="toast-title">Success</h4>
            <p class="text-xs text-slate-400 font-medium" id="toast-msg">Action completed successfully.</p>
        </div>
    </div>
    <!-- Header -->
    <header class="fixed top-0 w-full z-50 glass transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 h-20 flex items-center justify-between">
            <!-- Logo -->
            <div class="flex items-center gap-3 cursor-pointer group" onclick="switchTab('dashboard')">
                <div class="w-11 h-11 bg-gradient-to-br from-brand-700 to-brand-900 rounded-xl flex items-center justify-center text-white shadow-lg shadow-brand-900/20 group-hover:scale-105 transition-transform duration-300">
                    <i class="fa-solid fa-wheat-awn text-xl"></i>
                </div>
                <div>
                    <h1 class="font-display font-bold text-xl leading-none text-slate-900 tracking-tight">AgriConnect</h1>
                    <span class="text-[10px] font-bold text-brand-700 uppercase tracking-[0.2em]" data-translate="app_subtitle">Farmer Suite</span>
                </div>
            </div>
            <!-- Desktop Nav -->
            <nav class="hidden md:flex bg-earth-100/50 p-1.5 rounded-2xl border border-earth-200/60 backdrop-blur-sm">
                <button onclick="switchTab('dashboard')" id="nav-dashboard" class="nav-item px-6 py-2.5 rounded-xl text-sm font-bold text-slate-600 transition-all hover:bg-white hover:text-brand-800 nav-active">
                    <i class="fa-solid fa-grid-2 mr-2 opacity-70"></i><span data-translate="nav_dashboard">Dashboard</span>
                </button>
                <button onclick="switchTab('marketplace')" id="nav-marketplace" class="nav-item px-6 py-2.5 rounded-xl text-sm font-bold text-slate-600 transition-all hover:bg-white hover:text-brand-800">
                    <i class="fa-solid fa-shop mr-2 opacity-70"></i><span data-translate="nav_market">Market</span>
                </button>
                <button onclick="switchTab('analytics')" id="nav-analytics" class="nav-item px-6 py-2.5 rounded-xl text-sm font-bold text-slate-600 transition-all hover:bg-white hover:text-brand-800">
                    <i class="fa-solid fa-clipboard-list mr-2 opacity-70"></i><span data-translate="nav_orders">Orders</span>
                </button>
                <button onclick="switchTab('profile')" id="nav-profile" class="nav-item px-6 py-2.5 rounded-xl text-sm font-bold text-slate-600 transition-all hover:bg-white hover:text-brand-800">
                    <i class="fa-solid fa-user-circle mr-2 opacity-70"></i><span data-translate="nav_profile">Farm Profile</span>
                </button>
            </nav>
            <!-- User Actions -->
            <div class="flex items-center gap-2 md:gap-4">
                <!-- Language Selector (Mobile Friendly) -->
                <div class="relative">
                    <button onclick="toggleLangMenu(event)" id="lang-btn" class="flex items-center gap-1 md:gap-2 bg-white border border-earth-200 text-slate-600 px-2 md:px-3 py-2 rounded-xl text-xs font-bold hover:bg-earth-50 transition-colors focus:outline-none active:bg-earth-100">
                        <i class="fa-solid fa-language text-brand-600 text-base"></i>
                        <span id="current-lang-label" class="hidden md:inline">English</span>
                        <i class="fa-solid fa-chevron-down text-[10px] transition-transform duration-200" id="lang-arrow"></i>
                    </button>
                    <!-- Dropdown Menu -->
                    <div id="lang-menu" class="absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-xl border border-earth-100 overflow-hidden hidden z-[100] transform origin-top-right transition-all">
                        <button onclick="changeLanguage('en')" class="w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-brand-50 hover:text-brand-700 transition-colors border-b border-slate-50 flex justify-between items-center group">
                            English <i class="fa-solid fa-check text-brand-600 opacity-0 group-[.active-lang]:opacity-100" id="check-en"></i>
                        </button>
                        <button onclick="changeLanguage('hi')" class="w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-brand-50 hover:text-brand-700 transition-colors border-b border-slate-50 flex justify-between items-center group">
                            ‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi) <i class="fa-solid fa-check text-brand-600 opacity-0 group-[.active-lang]:opacity-100" id="check-hi"></i>
                        </button>
                        <button onclick="changeLanguage('mr')" class="w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-brand-50 hover:text-brand-700 transition-colors border-b border-slate-50 flex justify-between items-center group">
                            ‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi) <i class="fa-solid fa-check text-brand-600 opacity-0 group-[.active-lang]:opacity-100" id="check-mr"></i>
                        </button>
                        <button onclick="changeLanguage('kn')" class="w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-brand-50 hover:text-brand-700 transition-colors flex justify-between items-center group">
                            ‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada) <i class="fa-solid fa-check text-brand-600 opacity-0 group-[.active-lang]:opacity-100" id="check-kn"></i>
                        </button>
                    </div>
                </div>
                <div class="hidden lg:flex flex-col items-end mr-2">
                    <span class="text-xs font-bold text-slate-900">Pune, IN</span>
                    <span class="text-[10px] font-bold text-brand-600 bg-brand-50 px-1.5 rounded flex items-center gap-1"><i class="fa-solid fa-cloud-sun"></i> 28¬∞C</span>
                </div>
                <div onclick="switchTab('profile')" class="w-10 h-10 md:w-11 md:h-11 rounded-xl bg-gradient-to-tr from-brand-100 to-earth-100 border-2 border-white p-0.5 cursor-pointer shadow-md hover:shadow-lg transition-all group shrink-0">
                    <img id="header-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=FarmerRajesh" class="w-full h-full rounded-[9px] group-hover:scale-95 transition-transform" alt="Profile">
                </div>
            </div>
        </div>
    </header>
    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 pt-28">
        <!-- ================= DASHBOARD VIEW ================= -->
        <section id="dashboard" class="view-section active space-y-6 md:space-y-8">
            <!-- Hero Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <!-- Welcome Card -->
                <div class="lg:col-span-8 bg-gradient-to-br from-brand-900 to-brand-800 rounded-[2rem] md:rounded-[2.5rem] p-6 md:p-8 text-white relative overflow-hidden shadow-depth group min-h-[380px] md:min-h-[420px] flex flex-col justify-between">
                    <!-- Abstract Overlay -->
                    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
                    <div class="absolute top-0 right-0 w-[300px] md:w-[400px] h-[300px] md:h-[400px] bg-brand-500 rounded-full mix-blend-overlay filter blur-[100px] opacity-20 group-hover:opacity-30 transition-opacity duration-700"></div>
                    <div class="absolute bottom-0 left-0 w-[200px] md:w-[300px] h-[200px] md:h-[300px] bg-accent-600 rounded-full mix-blend-overlay filter blur-[80px] opacity-10"></div>
                    <div class="relative z-10">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/10 backdrop-blur-md text-xs font-bold text-brand-100 mb-4 shadow-sm">
                                    <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
                                    <span data-translate="mandi_live">Mandi Live</span>
                                </div>
                                <h2 class="font-display font-bold text-3xl md:text-5xl mb-3 tracking-tight leading-tight"><span data-translate="good_afternoon">Good Afternoon</span>, <br><span class="text-brand-300 user-name-display">Farmer</span>!</h2>
                                <p class="text-brand-100/90 max-w-md text-sm md:text-base leading-relaxed" data-translate="market_insight_text">
                                    The market for <span class="font-bold text-white">Hybrid Tomatoes</span> is trending up by 12% today. Perfect time to list your stock.
                                </p>
                            </div>
                            <!-- Weather Mini Widget -->
                            <div class="hidden md:block bg-white/10 backdrop-blur-md border border-white/10 p-4 rounded-2xl text-center min-w-[100px]">
                                <i class="fa-solid fa-sun text-3xl text-yellow-400 mb-2 drop-shadow-lg"></i>
                                <div class="text-2xl font-bold font-display">28¬∞</div>
                                <div class="text-[10px] uppercase font-bold text-brand-200 tracking-wider" data-translate="sunny">Sunny</div>
                            </div>
                        </div>
                    </div>
                    <div class="relative z-10 mt-8 flex flex-wrap gap-3 md:gap-4">
                        <button onclick="openModal()" class="bg-white text-brand-900 px-6 md:px-7 py-3 md:py-3.5 rounded-2xl font-bold text-sm shadow-xl shadow-black/10 hover:scale-[1.02] hover:shadow-2xl transition-all flex items-center gap-2 group-btn w-full md:w-auto justify-center">
                            <span class="w-6 h-6 rounded-full bg-brand-100 flex items-center justify-center text-brand-700 group-hover:bg-brand-600 group-hover:text-white transition-colors"><i class="fa-solid fa-plus text-xs"></i></span>
                            <span data-translate="create_listing">Create Listing</span>
                        </button>
                        <button onclick="switchTab('analytics')" class="bg-brand-950/30 hover:bg-brand-950/50 border border-white/20 text-white px-6 md:px-7 py-3 md:py-3.5 rounded-2xl font-bold text-sm backdrop-blur-md transition-all w-full md:w-auto">
                            <span data-translate="view_orders_btn">View Orders (4)</span>
                        </button>
                    </div>
                </div>
                <!-- Right Column: Revenue & Market Price Ticker -->
                <div class="lg:col-span-4 flex flex-col gap-6">
                    <!-- Revenue Card -->
                    <div class="bg-white p-6 rounded-[2rem] md:rounded-[2.5rem] border border-earth-100 shadow-card flex flex-col justify-center hover:translate-y-[-4px] transition-transform duration-300 relative overflow-hidden h-[160px] shrink-0">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-green-50 rounded-full -mr-10 -mt-10 blur-2xl opacity-50"></div>
                        <div class="flex items-center justify-between mb-4 relative z-10">
                            <div class="w-12 h-12 bg-earth-50 rounded-2xl flex items-center justify-center text-brand-700 text-xl shadow-sm border border-earth-100">
                                <i class="fa-solid fa-wallet"></i>
                            </div>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 border border-green-200">
                                <i class="fa-solid fa-arrow-trend-up"></i> +18%
                            </span>
                        </div>
                        <p class="text-slate-500 text-xs font-extrabold uppercase tracking-widest mb-1" data-translate="total_revenue">Total Revenue</p>
                        <h3 class="text-4xl font-display font-bold text-slate-900 tracking-tight">‚Çπ48,200</h3>
                    </div>
                    <!-- Market Ticker (Moved Here) -->
                    <div class="bg-white p-6 rounded-[2rem] md:rounded-[2.5rem] border border-earth-100 shadow-card flex-1 flex flex-col relative overflow-hidden h-full min-h-[300px]">
                         <div class="flex items-center justify-between mb-4">
                            <h4 class="font-bold text-slate-900 text-sm flex items-center gap-2"><i class="fa-solid fa-chart-line text-brand-500"></i> <span data-translate="live_rates">Live Rates</span></h4>
                            <button onclick="switchTab('analytics')" class="text-[10px] font-bold bg-brand-50 text-brand-700 px-2 py-1 rounded-lg hover:bg-brand-100 transition-colors" data-translate="see_orders">See Orders</button>
                        </div>
                        <div class="flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-3" id="hero-price-ticker">
                            <!-- Injected by JS -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- REQUESTS & NEGOTIATIONS -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Buyer Requests Feed -->
                <div class="lg:col-span-2 bg-white p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] border border-earth-100 shadow-card">
                    <div class="flex items-center justify-between mb-8">
                        <div>
                            <h3 class="font-display font-bold text-slate-900 text-xl" data-translate="direct_requests">Direct Buyer Requests</h3>
                            <p class="text-xs text-slate-500 font-medium mt-1" data-translate="verified_msg">Verified businesses looking for your crops</p>
                        </div>
                        <span class="flex h-3 w-3 relative">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-3 w-3 bg-brand-500"></span>
                        </span>
                    </div>
                    <div class="space-y-4" id="requests-container">
                        <!-- Request Item 1 -->
                        <div class="request-item flex flex-col sm:flex-row sm:items-center gap-5 p-5 rounded-[1.5rem] bg-earth-50 border border-earth-100 transition-all hover:bg-white hover:shadow-lg hover:border-brand-200 group" id="req-1">
                            <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center border border-earth-100 text-2xl shadow-sm shrink-0 group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-basket-shopping text-brand-600"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="font-bold text-slate-900 text-base">Reliance Fresh <i class="fa-solid fa-circle-check text-blue-500 ml-1 text-xs"></i></span>
                                    <span class="text-[10px] font-bold text-slate-400 bg-white px-2 py-1 rounded-full border border-earth-200">20m ago</span>
                                </div>
                                <p class="text-sm text-slate-600 leading-snug">Requires <span class="font-bold text-slate-900">2 Tons Tomatoes (Hybrid)</span> delivered to Pune Warehouse.</p>
                            </div>
                            <div class="flex sm:flex-col gap-2 shrink-0">
                                <button onclick="handleRequest('req-1', 'accepted')" class="px-5 py-2.5 bg-brand-600 hover:bg-brand-700 text-white text-xs font-bold rounded-xl transition-all shadow-lg shadow-brand-600/20 active:scale-95" data-translate="accept">Accept</button>
                                <button onclick="handleRequest('req-1', 'declined')" class="px-5 py-2.5 bg-white border border-slate-200 text-slate-600 hover:text-red-500 hover:border-red-200 text-xs font-bold rounded-xl transition-all active:scale-95" data-translate="decline">Decline</button>
                            </div>
                        </div>
                        <!-- Request Item 2 -->
                        <div class="request-item flex flex-col sm:flex-row sm:items-center gap-5 p-5 rounded-[1.5rem] bg-earth-50 border border-earth-100 transition-all hover:bg-white hover:shadow-lg hover:border-brand-200 group" id="req-2">
                            <div class="w-14 h-14 bg-white rounded-2xl flex items-center justify-center border border-earth-100 text-2xl shadow-sm shrink-0 group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-utensils text-orange-500"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="font-bold text-slate-900 text-base">Grand Maratha Hotel</span>
                                    <span class="text-[10px] font-bold text-slate-400 bg-white px-2 py-1 rounded-full border border-earth-200">1h ago</span>
                                </div>
                                <p class="text-sm text-slate-600 leading-snug">Requires <span class="font-bold text-slate-900">500 Kg Red Onions</span> delivered to Shivajinagar.</p>
                            </div>
                            <div class="flex sm:flex-col gap-2 shrink-0">
                                <button onclick="handleRequest('req-2', 'accepted')" class="px-5 py-2.5 bg-brand-600 hover:bg-brand-700 text-white text-xs font-bold rounded-xl transition-all shadow-lg shadow-brand-600/20 active:scale-95" data-translate="accept">Accept</button>
                                <button onclick="handleRequest('req-2', 'declined')" class="px-5 py-2.5 bg-white border border-slate-200 text-slate-600 hover:text-red-500 hover:border-red-200 text-xs font-bold rounded-xl transition-all active:scale-95" data-translate="decline">Decline</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Active Negotiations -->
                <div class="bg-white p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] border border-earth-100 shadow-card flex flex-col">
                    <div class="flex items-center justify-between mb-8">
                        <h3 class="font-display font-bold text-slate-900 text-xl" data-translate="negotiations">Negotiations</h3>
                        <span class="text-xs font-bold text-brand-700 bg-brand-50 px-3 py-1.5 rounded-xl border border-brand-100">2 Active</span>
                    </div>
                    <div class="space-y-4 flex-1 overflow-y-auto max-h-[400px] pr-1 custom-scrollbar">
                        <div class="p-4 rounded-2xl bg-earth-50 border border-transparent hover:border-brand-200 transition-all cursor-pointer group hover:bg-white hover:shadow-md">
                            <div class="flex justify-between items-start mb-2">
                                <p class="text-sm font-bold text-slate-800">Deal #4029 - Wheat</p>
                                <span class="text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-1 rounded-lg border border-amber-100" data-translate="counter_offer">Counter Offer</span>
                            </div>
                            <div class="flex justify-between text-xs text-slate-500 mb-3">
                                <span>Bid: ‚Çπ2,400</span>
                                <span>Ask: ‚Çπ2,600</span>
                            </div>
                            <div class="w-full bg-slate-200 h-2 rounded-full overflow-hidden"><div class="bg-amber-500 h-full rounded-full group-hover:w-[70%] transition-all duration-1000 w-[60%]"></div></div>
                        </div>
                        <div class="p-4 rounded-2xl bg-earth-50 border border-transparent hover:border-brand-200 transition-all cursor-pointer group hover:bg-white hover:shadow-md">
                            <div class="flex justify-between items-start mb-2">
                                <p class="text-sm font-bold text-slate-800">Deal #4035 - Corn</p>
                                <span class="text-[10px] font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded-lg border border-blue-100" data-translate="waiting">Waiting</span>
                            </div>
                            <p class="text-xs text-slate-500 mb-3" data-translate="proposal_sent">Proposal sent to buyer.</p>
                            <div class="w-full bg-slate-200 h-2 rounded-full overflow-hidden"><div class="bg-blue-500 h-full rounded-full w-[30%]"></div></div>
                        </div>
                    </div>
                    <button class="w-full mt-6 py-4 text-xs font-bold text-slate-600 border border-slate-200 rounded-xl hover:bg-earth-50 transition-all flex items-center justify-center gap-2 uppercase tracking-wide">
                        <span data-translate="view_history">View History</span>
                    </button>
                </div>
            </div>
        </section>
        <!-- ================= MARKETPLACE VIEW ================= -->
        <section id="marketplace" class="view-section space-y-8">
            <!-- Search Header -->
            <div class="bg-white p-6 rounded-[2.5rem] shadow-card border border-earth-100 sticky top-24 z-30 transition-all">
                <div class="flex flex-col md:flex-row gap-5">
                    <div class="relative flex-1 group">
                        <i class="fa-solid fa-magnifying-glass absolute left-5 top-4 text-slate-400 group-focus-within:text-brand-600 transition-colors"></i>
                        <input type="text" id="market-search" placeholder="Search crops, buyers, or locations..." class="w-full bg-earth-50 border-2 border-transparent hover:border-earth-200 focus:border-brand-500 rounded-2xl py-3.5 pl-12 pr-4 text-sm font-semibold text-slate-800 outline-none transition-all placeholder:text-slate-400" onkeyup="filterMarketplace()" data-translate-placeholder="search_market_placeholder">
                    </div>
                    <div class="flex gap-2 overflow-x-auto no-scrollbar pb-1 md:pb-0">
                        <button onclick="filterCategory('all')" class="market-filter active px-6 py-3.5 bg-brand-900 text-white rounded-2xl text-xs font-bold whitespace-nowrap shadow-lg shadow-brand-900/20 transition-all hover:bg-brand-800" data-translate="all_stock">All Stock</button>
                        <button onclick="filterCategory('vegetable')" class="market-filter px-6 py-3.5 bg-white border border-slate-200 text-slate-600 rounded-2xl text-xs font-bold whitespace-nowrap hover:bg-earth-50 hover:border-slate-300 transition-all" data-translate="vegetables">Vegetables</button>
                        <button onclick="filterCategory('grain')" class="market-filter px-6 py-3.5 bg-white border border-slate-200 text-slate-600 rounded-2xl text-xs font-bold whitespace-nowrap hover:bg-earth-50 hover:border-slate-300 transition-all" data-translate="grains">Grains</button>
                        <button onclick="filterCategory('fruit')" class="market-filter px-6 py-3.5 bg-white border border-slate-200 text-slate-600 rounded-2xl text-xs font-bold whitespace-nowrap hover:bg-earth-50 hover:border-slate-300 transition-all" data-translate="fruits">Fruits</button>
                    </div>
                </div>
            </div>
            <!-- Listings Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="marketplace-grid">
                <!-- JS Injected -->
            </div>
            <!-- Empty State -->
            <div id="no-results" class="hidden flex flex-col items-center justify-center py-20">
                <div class="w-24 h-24 bg-earth-100 rounded-full flex items-center justify-center text-slate-300 text-4xl mb-6">
                    <i class="fa-solid fa-leaf"></i>
                </div>
                <h3 class="text-xl font-bold text-slate-800" data-translate="no_listings">No listings found</h3>
                <p class="text-sm text-slate-500 mt-2">Try adjusting your filters or search terms.</p>
            </div>
        </section>
        <!-- ================= ORDERS VIEW (Formerly Analytics) ================= -->
        <section id="analytics" class="view-section space-y-8">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                <div>
                    <h2 class="font-display font-bold text-3xl text-slate-900" data-translate="order_mgmt">Order Management</h2>
                    <p class="text-slate-500 text-sm font-medium mt-1" data-translate="track_sales">Track and manage your sales efficiently.</p>
                </div>
                <div class="flex gap-2">
                    <button class="bg-brand-600 text-white px-5 py-2.5 rounded-xl text-xs font-bold hover:bg-brand-700 transition-colors shadow-lg shadow-brand-600/20 flex items-center gap-2">
                        <i class="fa-solid fa-download"></i> <span data-translate="export_report">Export Report</span>
                    </button>
                </div>
            </div>
            <!-- KPI Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-[2rem] border border-earth-100 shadow-card flex items-center gap-5">
                    <div class="w-14 h-14 rounded-2xl bg-green-50 text-green-600 flex items-center justify-center text-2xl border border-green-100">
                        <i class="fa-solid fa-indian-rupee-sign"></i>
                    </div>
                    <div>
                        <p class="text-slate-400 text-xs font-bold uppercase tracking-wider" data-translate="total_revenue">Total Revenue</p>
                        <h3 class="text-2xl font-display font-bold text-slate-900">‚Çπ41,700</h3>
                        <span class="text-[10px] font-bold text-green-600 bg-green-50 px-1.5 py-0.5 rounded border border-green-100">+12% vs last month</span>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-[2rem] border border-earth-100 shadow-card flex items-center gap-5">
                    <div class="w-14 h-14 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center text-2xl border border-blue-100">
                        <i class="fa-solid fa-basket-shopping"></i>
                    </div>
                    <div>
                        <p class="text-slate-400 text-xs font-bold uppercase tracking-wider" data-translate="total_orders">Total Orders</p>
                        <h3 class="text-2xl font-display font-bold text-slate-900">142</h3>
                        <p class="text-xs text-slate-500 font-bold" data-translate="lifetime_sales">Lifetime Sales</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-[2rem] border border-earth-100 shadow-card flex items-center gap-5">
                    <div class="w-14 h-14 rounded-2xl bg-amber-50 text-amber-600 flex items-center justify-center text-2xl border border-amber-100">
                        <i class="fa-solid fa-clock"></i>
                    </div>
                    <div>
                        <p class="text-slate-400 text-xs font-bold uppercase tracking-wider" data-translate="pending">Pending</p>
                        <h3 class="text-2xl font-display font-bold text-slate-900">3</h3>
                        <p class="text-xs text-slate-500 font-bold" data-translate="requires_action">Requires Action</p>
                    </div>
                </div>
            </div>
            <!-- Orders Container -->
            <div class="bg-white rounded-[2.5rem] border border-earth-100 shadow-card overflow-hidden">
                <!-- Filters/Tabs -->
                <div class="p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 justify-between items-center bg-slate-50/50">
                    <div class="flex p-1 bg-white border border-slate-200 rounded-xl w-full md:w-auto overflow-x-auto">
                        <button onclick="filterOrders('All')" class="order-tab active px-5 py-2 rounded-lg text-xs font-bold transition-all bg-slate-900 text-white shadow-md whitespace-nowrap" id="tab-All" data-translate="tab_all">All</button>
                        <button onclick="filterOrders('Pending')" class="order-tab px-5 py-2 rounded-lg text-xs font-bold text-slate-500 hover:text-slate-900 transition-all whitespace-nowrap" id="tab-Pending" data-translate="tab_pending">Pending</button>
                        <button onclick="filterOrders('Completed')" class="order-tab px-5 py-2 rounded-lg text-xs font-bold text-slate-500 hover:text-slate-900 transition-all whitespace-nowrap" id="tab-Completed" data-translate="tab_completed">Completed</button>
                    </div>
                    <div class="relative w-full md:w-64 group">
                        <i class="fa-solid fa-magnifying-glass absolute left-4 top-3 text-slate-400 group-focus-within:text-brand-500 transition-colors text-xs"></i>
                        <input type="text" id="order-search" placeholder="Search Order ID or Buyer..." class="w-full bg-white border border-slate-200 rounded-xl pl-10 pr-4 py-2.5 text-xs font-bold outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500 transition-all" onkeyup="searchOrders()" data-translate-placeholder="search_placeholder">
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse min-w-[600px]">
                        <thead class="bg-slate-50 text-slate-500">
                            <tr class="text-xs uppercase tracking-wider">
                                <th class="py-4 pl-6 font-bold w-32" data-translate="th_id">Order ID</th>
                                <th class="py-4 font-bold" data-translate="th_product">Product & Buyer</th>
                                <th class="py-4 font-bold" data-translate="th_date">Date</th>
                                <th class="py-4 font-bold" data-translate="th_amount">Amount</th>
                                <th class="py-4 font-bold" data-translate="th_status">Status</th>
                                <th class="py-4 pr-6 font-bold text-right" data-translate="th_actions">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="full-order-table-body" class="text-sm font-medium text-slate-700 divide-y divide-slate-100">
                            <!-- JS Injected -->
                        </tbody>
                    </table>
                </div>
                <!-- Pagination (Visual Only) -->
                <div class="p-4 border-t border-slate-100 flex justify-between items-center bg-white">
                    <span class="text-xs text-slate-400 font-bold ml-2">Showing 1-4 of 4 orders</span>
                    <div class="flex gap-2">
                        <button class="w-8 h-8 rounded-lg border border-slate-200 text-slate-400 flex items-center justify-center hover:bg-slate-50 cursor-not-allowed opacity-50"><i class="fa-solid fa-chevron-left text-xs"></i></button>
                        <button class="w-8 h-8 rounded-lg border border-slate-200 text-slate-600 flex items-center justify-center hover:bg-slate-50 hover:text-brand-600"><i class="fa-solid fa-chevron-right text-xs"></i></button>
                    </div>
                </div>
            </div>
        </section>
        <!-- ================= PROFILE VIEW ================= -->
        <section id="profile" class="view-section space-y-8 pb-12">
            <!-- Profile Header -->
            <div class="relative bg-white rounded-[2.5rem] shadow-card overflow-hidden border border-earth-100">
                <!-- Cover Image -->
                <div class="h-40 md:h-48 bg-slate-800 relative overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?auto=format&fit=crop&q=80&w=1200" class="w-full h-full object-cover opacity-60">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                    <button class="absolute top-4 right-4 bg-black/30 backdrop-blur text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-black/50 transition-colors border border-white/20">
                        <i class="fa-solid fa-camera mr-1"></i> <span data-translate="edit_cover">Edit Cover</span>
                    </button>
                </div>
                <div class="px-6 md:px-8 pb-8 relative">
                    <div class="flex flex-col md:flex-row items-center md:items-end -mt-12 md:-mt-16 mb-6 gap-4 md:gap-6">
                        <div class="w-24 h-24 md:w-32 md:h-32 rounded-[2rem] bg-white p-1.5 shadow-xl relative group z-10">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=FarmerRajesh" class="w-full h-full rounded-[1.5rem] bg-slate-50 object-cover" alt="Profile">
                            <div class="absolute bottom-1 right-1 w-6 h-6 md:w-8 md:h-8 bg-brand-500 rounded-full border-4 border-white flex items-center justify-center text-white text-[10px] md:text-xs shadow-sm">
                                <i class="fa-solid fa-check"></i>
                            </div>
                        </div>
                        <div class="flex-1 text-center md:text-left mb-2">
                            <h2 class="text-2xl md:text-3xl font-display font-bold text-slate-900 user-name-display mb-1">Rajesh Kumar</h2>
                            <p class="text-xs md:text-sm text-slate-500 font-bold user-farm-display flex items-center justify-center md:justify-start gap-2">
                                <i class="fa-solid fa-tractor text-brand-500"></i> Green Valley Farms ‚Ä¢ Pune, MH
                            </p>
                        </div>
                        <button onclick="toggleEditProfile()" class="px-6 py-3 bg-slate-900 text-white rounded-xl text-xs font-bold transition-all hover:bg-slate-800 shadow-lg shadow-slate-900/20">
                            <span data-translate="edit_profile">Edit Profile</span>
                        </button>
                    </div>
                    <!-- Stats Row -->
                    <div class="grid grid-cols-3 gap-4 border-t border-earth-100 pt-6">
                        <div class="text-center md:text-left">
                            <span class="block text-xl md:text-2xl font-display font-bold text-slate-900" id="profile-listings-count">0</span>
                            <span class="text-[9px] md:text-[10px] uppercase font-bold text-slate-400 tracking-wider" data-translate="active_listings">Active Listings</span>
                        </div>
                        <div class="text-center md:text-left border-l border-earth-100 pl-4">
                            <span class="block text-xl md:text-2xl font-display font-bold text-slate-900 flex items-center justify-center md:justify-start gap-1">4.8 <i class="fa-solid fa-star text-sm text-yellow-400"></i></span>
                            <span class="text-[9px] md:text-[10px] uppercase font-bold text-slate-400 tracking-wider" data-translate="buyer_rating">Buyer Rating</span>
                        </div>
                        <div class="text-center md:text-left border-l border-earth-100 pl-4">
                            <span class="block text-xl md:text-2xl font-display font-bold text-slate-900">3 <span class="text-sm text-slate-400 font-normal">Yrs</span></span>
                            <span class="text-[9px] md:text-[10px] uppercase font-bold text-slate-400 tracking-wider" data-translate="membership">Membership</span>
                        </div>
                    </div>
                    <!-- Edit Form -->
                    <div id="edit-profile-form" class="hidden mt-6 p-6 bg-earth-50 rounded-2xl border border-earth-100">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Full Name</label>
                                <input type="text" id="edit-name" class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Farm Name</label>
                                <input type="text" id="edit-farm" class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Location</label>
                                <input type="text" id="edit-location" class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Phone</label>
                                <input type="text" id="edit-phone" class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all">
                            </div>
                        </div>
                        <div class="flex justify-end gap-3 mt-6">
                            <button onclick="toggleEditProfile()" class="px-5 py-2.5 text-xs font-bold text-slate-500 hover:text-slate-800">Cancel</button>
                            <button onclick="saveProfile()" class="px-5 py-2.5 bg-brand-600 text-white rounded-xl text-xs font-bold shadow-lg shadow-brand-600/20 hover:bg-brand-700">Save Changes</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Profile Info Grid -->
            <div class="grid grid-cols-1 gap-6">
                <!-- Personal Details -->
                <div class="bg-white p-6 rounded-[2.5rem] border border-earth-100 shadow-card">
                    <h3 class="font-display font-bold text-slate-900 text-lg mb-4" data-translate="personal_info">Personal Information</h3>
                    <div class="space-y-4">
                        <div class="flex items-center gap-4 p-3 bg-earth-50 rounded-2xl">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm">
                                <i class="fa-solid fa-envelope"></i>
                            </div>
                            <div>
                                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">Email Address</p>
                                <p class="font-bold text-slate-800 text-sm user-email-display">farmer@agriconnect.com</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4 p-3 bg-earth-50 rounded-2xl">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm">
                                <i class="fa-solid fa-phone"></i>
                            </div>
                            <div>
                                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">Phone</p>
                                <p class="font-bold text-slate-800 text-sm user-phone-display">+91 98765 43210</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4 p-3 bg-earth-50 rounded-2xl">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 shadow-sm">
                                <i class="fa-solid fa-map-location-dot"></i>
                            </div>
                            <div>
                                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">Address</p>
                                <p class="font-bold text-slate-800 text-sm user-address-display">Plot 45, Indrayani Nagar, Pune</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- My History -->
            <div class="px-2">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-display font-bold text-xl text-slate-900" data-translate="my_inventory">My Products / Inventory</h3>
                    <!-- My Crops Tags -->
                    <div class="flex gap-2">
                        <span class="px-3 py-1 bg-white text-slate-600 rounded-lg text-xs font-bold border border-earth-200">üçÖ Tomatoes</span>
                        <span class="px-3 py-1 bg-white text-slate-600 rounded-lg text-xs font-bold border border-earth-200">üåæ Wheat</span>
                        <button class="px-3 py-1 border border-dashed border-slate-300 text-slate-400 rounded-lg text-xs font-bold hover:border-brand-500 hover:text-brand-600 transition-colors">+ Add</button>
                    </div>
                </div>
                <div id="profile-history-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Populated by JS -->
                </div>
            </div>
        </section>
    </main>
    <!-- Mobile Navigation Bottom Bar -->
    <nav class="md:hidden fixed bottom-0 left-0 w-full bg-white/90 backdrop-blur-lg border-t border-slate-200 z-50 pb-safe">
        <div class="flex justify-around items-center h-20 px-2 relative">
            <button onclick="switchTab('dashboard')" class="mob-nav-btn flex flex-col items-center gap-1 p-2 text-brand-700 mob-active transition-colors w-16 group" id="mob-dashboard">
                <div class="w-8 h-8 rounded-full bg-transparent group-[.mob-active]:bg-brand-50 flex items-center justify-center transition-colors mb-0.5">
                    <i class="fa-solid fa-grid-2 text-lg"></i>
                </div>
                <span class="text-[10px] font-bold" data-translate="nav_dashboard">Home</span>
            </button>
            <button onclick="switchTab('marketplace')" class="mob-nav-btn flex flex-col items-center gap-1 p-2 text-slate-400 transition-colors w-16 group" id="mob-marketplace">
                <div class="w-8 h-8 rounded-full bg-transparent group-[.mob-active]:bg-brand-50 flex items-center justify-center transition-colors mb-0.5">
                    <i class="fa-solid fa-shop text-lg"></i>
                </div>
                <span class="text-[10px] font-bold" data-translate="nav_market">Market</span>
            </button>
            <!-- Floating FAB -->
            <div class="relative -top-6">
                <button onclick="openModal()" class="w-14 h-14 bg-gradient-to-r from-brand-600 to-brand-500 rounded-full flex items-center justify-center text-white shadow-xl shadow-brand-600/40 border-[6px] border-[#fbfaf8] active:scale-95 transition-transform hover:scale-110">
                    <i class="fa-solid fa-plus text-xl"></i>
                </button>
            </div>
            <button onclick="switchTab('analytics')" class="mob-nav-btn flex flex-col items-center gap-1 p-2 text-slate-400 transition-colors w-16 group" id="mob-analytics">
                <div class="w-8 h-8 rounded-full bg-transparent group-[.mob-active]:bg-brand-50 flex items-center justify-center transition-colors mb-0.5">
                    <i class="fa-solid fa-clipboard-list text-lg"></i>
                </div>
                <span class="text-[10px] font-bold" data-translate="nav_orders">Orders</span>
            </button>
            <button onclick="switchTab('profile')" class="mob-nav-btn flex flex-col items-center gap-1 p-2 text-slate-400 transition-colors w-16 group" id="mob-profile">
                <div class="w-8 h-8 rounded-full bg-transparent group-[.mob-active]:bg-brand-50 flex items-center justify-center transition-colors mb-0.5">
                    <i class="fa-solid fa-user-circle text-lg"></i>
                </div>
                <span class="text-[10px] font-bold" data-translate="nav_profile">Farm</span>
            </button>
        </div>
    </nav>
    <!-- Create Listing Modal -->
    <div id="listingModal" class="fixed inset-0 z-[60] hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity opacity-0" id="modalBackdrop" onclick="closeModal()"></div>
        <!-- Modal Content -->
        <div class="absolute bottom-0 md:top-1/2 md:bottom-auto md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 w-full md:w-[500px] bg-white rounded-t-[2.5rem] md:rounded-[2.5rem] shadow-2xl transform translate-y-full md:translate-y-10 opacity-0 transition-all duration-300 flex flex-col max-h-[90vh]" id="modalContent">
            <div class="p-8 border-b border-slate-100 flex justify-between items-center bg-earth-50/50 rounded-t-[2.5rem]">
                <div>
                    <h3 class="text-xl font-display font-bold text-slate-900" data-translate="new_listing">New Listing</h3>
                    <p class="text-xs text-slate-500 font-medium mt-1">Connect with 500+ verified buyers</p>
                </div>
                <button onclick="closeModal()" class="w-9 h-9 rounded-full bg-slate-100 text-slate-400 flex items-center justify-center hover:bg-slate-200 hover:text-slate-600 transition-colors">
                    <i class="fa-solid fa-xmark text-sm"></i>
                </button>
            </div>
            <div class="p-8 overflow-y-auto space-y-6 custom-scrollbar">
                <!-- Image Upload -->
                <div class="w-full h-40 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center justify-center text-slate-400 bg-slate-50 hover:bg-brand-50 hover:border-brand-300 hover:text-brand-600 transition-all cursor-pointer group">
                    <div class="w-12 h-12 rounded-full bg-white shadow-sm flex items-center justify-center mb-3 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-camera text-xl"></i>
                    </div>
                    <span class="text-xs font-bold">Add Crop Photos</span>
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Item Name</label>
                    <input type="text" id="itemName" class="w-full bg-white border border-slate-200 rounded-2xl p-4 text-sm font-bold text-slate-800 focus:ring-2 focus:ring-brand-500 focus:border-transparent outline-none transition-all" placeholder="e.g. Organic Red Tomatoes">
                </div>
                <div class="grid grid-cols-2 gap-5">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Category</label>
                        <div class="relative">
                            <select id="itemCat" class="w-full bg-white border border-slate-200 rounded-2xl p-4 text-sm font-bold text-slate-800 focus:ring-2 focus:ring-brand-500 outline-none appearance-none">
                                <option value="vegetable">Vegetable</option>
                                <option value="grain">Grain</option>
                                <option value="fruit">Fruit</option>
                            </select>
                            <i class="fa-solid fa-chevron-down absolute right-4 top-4.5 text-slate-400 pointer-events-none text-xs"></i>
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Quantity (Kg)</label>
                        <input type="number" id="itemQty" class="w-full bg-white border border-slate-200 rounded-2xl p-4 text-sm font-bold text-slate-800 focus:ring-2 focus:ring-brand-500 focus:border-transparent outline-none transition-all" placeholder="0">
                    </div>
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Price / Kg</label>
                    <div class="relative">
                        <span class="absolute left-4 top-4 text-slate-400 font-bold">‚Çπ</span>
                        <input type="number" id="itemPrice" class="w-full bg-white border border-slate-200 rounded-2xl p-4 pl-8 text-sm font-bold text-slate-800 focus:ring-2 focus:ring-brand-500 focus:border-transparent outline-none transition-all" placeholder="00">
                    </div>
                </div>
                <!-- Price Advice -->
                <div class="bg-amber-50 p-5 rounded-2xl border border-amber-100 flex gap-4 items-start">
                    <div class="w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 shrink-0">
                        <i class="fa-solid fa-lightbulb"></i>
                    </div>
                    <div class="text-xs text-amber-900 leading-relaxed">
                        <p class="font-bold mb-1">Pricing Insight</p>
                        <p>Market average is <span class="font-bold">‚Çπ24</span>. Listing at <span class="font-bold text-green-700">‚Çπ22</span> usually sells in under 4 hours.</p>
                    </div>
                </div>
            </div>
            <div class="p-6 border-t border-slate-100 bg-white md:rounded-b-[2.5rem]">
                <button onclick="submitListing()" class="w-full bg-brand-600 hover:bg-brand-700 text-white font-bold py-4 rounded-2xl shadow-lg shadow-brand-600/20 active:scale-95 transition-all text-sm tracking-wide" data-translate="publish">
                    Publish Listing
                </button>
            </div>
        </div>
    </div>
    <script>
        // --- State Management ---
        const state = {
            currentLang: 'en',
            user: {
                name: 'Rajesh Kumar',
                farmName: 'Green Valley Farms',
                location: 'Pune, Maharashtra',
                phone: '+91 98765 43210',
                email: 'rajesh.kumar@agriconnect.com',
                address: 'Plot No. 45, Indrayani Nagar, Talegaon Dabhade, Pune - 410507',
                avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=FarmerRajesh',
                joined: '3 yrs'
            },
            marketPrices: [
                { id: 1, name: 'Wheat (Lokwan)', price: 2600, trend: 'up', change: 2.4 },
                { id: 2, name: 'Onion (Red)', price: 1850, trend: 'up', change: 5.1 },
                { id: 3, name: 'Soybean', price: 4100, trend: 'down', change: 1.2 },
                { id: 4, name: 'Tomato (Hybrid)', price: 1200, trend: 'stable', change: 0.0 },
                { id: 5, name: 'Potato (Indore)', price: 1500, trend: 'up', change: 1.8 },
                { id: 6, name: 'Cotton', price: 6200, trend: 'down', change: 0.5 },
            ],
            orders: [
                { id: 'ORD-7782', buyer: 'Reliance Fresh', item: 'Organic Tomatoes', category: 'vegetable', qty: '500 kg', date: '28 Jan', amount: 11000, status: 'Completed' },
                { id: 'ORD-7783', buyer: 'Grand Maratha Hotel', item: 'Onions (Red)', category: 'vegetable', qty: '150 kg', date: '26 Jan', amount: 4500, status: 'Pending' },
                { id: 'ORD-7784', buyer: 'BigBasket', item: 'Wheat (Grade A)', category: 'grain', qty: '1 Ton', date: '20 Jan', amount: 25000, status: 'Completed' },
                { id: 'ORD-7785', buyer: 'Local Market Vendor', item: 'Spinach Bunch', category: 'vegetable', qty: '200 units', date: '15 Jan', amount: 1200, status: 'Completed' },
            ],
            listings: [
                { id: 1, name: 'Fresh Organic Tomatoes', category: 'vegetable', price: 22, qty: '500 kg', farmer: 'Rajesh Kumar', loc: 'Pune, MH', time: '2h ago', img: 'https://images.unsplash.com/photo-1592924357228-91a4daadcfea?auto=format&fit=crop&q=80&w=600', verified: true, isMine: true },
                { id: 2, name: 'Premium Basmati Rice', category: 'grain', price: 65, qty: '1.2 Tons', farmer: 'Amit Singh', loc: 'Nashik, MH', time: '5h ago', img: 'https://images.unsplash.com/photo-1586201375761-83865001e31c?auto=format&fit=crop&q=80&w=600', verified: false, isMine: false },
                { id: 3, name: 'Yellow Corn / Maize', category: 'grain', price: 18, qty: '800 kg', farmer: 'Suresh P.', loc: 'Satara, MH', time: '1d ago', img: 'https://images.unsplash.com/photo-1551754655-cd27e38d2076?auto=format&fit=crop&q=80&w=600', verified: true, isMine: false },
                { id: 4, name: 'Nagpur Oranges', category: 'fruit', price: 40, qty: '300 kg', farmer: 'Vijay D.', loc: 'Nagpur, MH', time: '3h ago', img: 'https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5a?auto=format&fit=crop&q=80&w=600', verified: true, isMine: false },
            ]
        };
        // --- Translation Dictionary ---
        const product_names = {
            'Wheat': { hi: '‡§ó‡•á‡§π‡•Ç‡§Å', mr: '‡§ó‡§π‡•Ç', kn: '‡≤ó‡≥ã‡≤ß‡≤ø' },
            'Onion': { hi: '‡§™‡•ç‡§Ø‡§æ‡§ú‡§º', mr: '‡§ï‡§æ‡§Ç‡§¶‡§æ', kn: '‡≤à‡≤∞‡≥Å‡≤≥‡≥ç‡≤≥‡≤ø' },
            'Soybean': { hi: '‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®', mr: '‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®', kn: '‡≤∏‡≥ã‡≤Ø‡≤æ‡≤¨‡≥Ä‡≤®‡≥ç' },
            'Tomato': { hi: '‡§ü‡§Æ‡§æ‡§ü‡§∞', mr: '‡§ü‡•ã‡§Æ‡•Ö‡§ü‡•ã', kn: '‡≤ü‡≥ä‡≤Æ‡≥Ü‡≤ü‡≥ä' },
            'Tomatoes': { hi: '‡§ü‡§Æ‡§æ‡§ü‡§∞', mr: '‡§ü‡•ã‡§Æ‡•Ö‡§ü‡•ã', kn: '‡≤ü‡≥ä‡≤Æ‡≥Ü‡≤ü‡≥ä' },
            'Potato': { hi: '‡§Ü‡§≤‡•Ç', mr: '‡§¨‡§ü‡§æ‡§ü‡§æ', kn: '‡≤Ü‡≤≤‡≥Ç‡≤ó‡≤°‡≥ç‡≤°‡≥Ü' },
            'Cotton': { hi: '‡§ï‡§™‡§æ‡§∏', mr: '‡§ï‡§æ‡§™‡•Ç‡§∏', kn: '‡≤π‡≤§‡≥ç‡≤§‡≤ø' },
            'Rice': { hi: '‡§ö‡§æ‡§µ‡§≤', mr: '‡§§‡§æ‡§Ç‡§¶‡•Ç‡§≥', kn: '‡≤Ö‡≤ï‡≥ç‡≤ï‡≤ø' },
            'Corn': { hi: '‡§Æ‡§ï‡•ç‡§ï‡§æ', mr: '‡§Æ‡§ï‡§æ', kn: '‡≤ú‡≥ã‡≤≥' },
            'Maize': { hi: '‡§Æ‡§ï‡•ç‡§ï‡§æ', mr: '‡§Æ‡§ï‡§æ', kn: '‡≤ú‡≥ã‡≤≥' },
            'Orange': { hi: '‡§∏‡§Ç‡§§‡§∞‡§æ', mr: '‡§∏‡§Ç‡§§‡•ç‡§∞‡•Ä', kn: '‡≤ï‡≤ø‡≤§‡≥ç‡≤§‡≤≥‡≥Ü' },
            'Oranges': { hi: '‡§∏‡§Ç‡§§‡§∞‡§æ', mr: '‡§∏‡§Ç‡§§‡•ç‡§∞‡•Ä', kn: '‡≤ï‡≤ø‡≤§‡≥ç‡≤§‡≤≥‡≥Ü' },
            'Spinach': { hi: '‡§™‡§æ‡§≤‡§ï', mr: '‡§™‡§æ‡§≤‡§ï', kn: '‡≤™‡≤æ‡≤≤‡≤ï‡≥ç' },
            'Organic': { hi: '‡§ú‡•à‡§µ‡§ø‡§ï', mr: '‡§∏‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø', kn: '‡≤∏‡≤æ‡≤µ‡≤Ø‡≤µ' },
            'Fresh': { hi: '‡§§‡§æ‡§ú‡§º‡§æ', mr: '‡§§‡§æ‡§ú‡•á', kn: '‡≤§‡≤æ‡≤ú‡≤æ' },
            'Yellow': { hi: '‡§™‡•Ä‡§≤‡§æ', mr: '‡§™‡§ø‡§µ‡§≥‡§æ', kn: '‡≤π‡≤≥‡≤¶‡≤ø' },
            'Red': { hi: '‡§≤‡§æ‡§≤', mr: '‡§≤‡§æ‡§≤', kn: '‡≤ï‡≥Ü‡≤Ç‡≤™‡≥Å' },
            'Premium': { hi: '‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§Æ', mr: '‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§Æ', kn: '‡≤™‡≥ç‡≤∞‡≥Ä‡≤Æ‡≤ø‡≤Ø‡≤Ç' }
        };
        const translations = {
            en: {
                app_subtitle: "Farmer Suite",
                nav_dashboard: "Dashboard",
                nav_market: "Market",
                nav_orders: "Orders",
                nav_profile: "Farm Profile",
                mandi_live: "Mandi Live",
                good_afternoon: "Good Afternoon",
                market_insight_text: "The market for <span class='font-bold text-white'>Hybrid Tomatoes</span> is trending up by 12% today.",
                sunny: "Sunny",
                create_listing: "Create Listing",
                view_orders_btn: "View Orders",
                total_revenue: "Total Revenue",
                live_rates: "Live Rates",
                see_orders: "See Orders",
                direct_requests: "Direct Buyer Requests",
                verified_msg: "Verified businesses looking for your crops",
                accept: "Accept",
                decline: "Decline",
                negotiations: "Negotiations",
                waiting: "Waiting",
                view_history: "View History",
                all_stock: "All Stock",
                vegetables: "Vegetables",
                grains: "Grains",
                fruits: "Fruits",
                no_listings: "No listings found",
                order_mgmt: "Order Management",
                track_sales: "Track and manage your sales efficiently.",
                export_report: "Export Report",
                total_orders: "Total Orders",
                lifetime_sales: "Lifetime Sales",
                pending: "Pending",
                requires_action: "Requires Action",
                tab_all: "All",
                tab_pending: "Pending",
                tab_completed: "Completed",
                th_id: "Order ID",
                th_product: "Product & Buyer",
                th_date: "Date",
                th_amount: "Amount",
                th_status: "Status",
                th_actions: "Actions",
                edit_cover: "Edit Cover",
                edit_profile: "Edit Profile",
                active_listings: "Active Listings",
                buyer_rating: "Buyer Rating",
                membership: "Membership",
                personal_info: "Personal Information",
                recent_sales: "Recent Orders (Sales)",
                view_all_orders: "View All Orders",
                my_inventory: "My Products / Inventory",
                new_listing: "New Listing",
                publish: "Publish Listing",
                avg_quintal: "Avg / Quintal",
                verified: "VERIFIED",
                my_stock: "MY STOCK",
                view_details: "View Details",
                no_orders: "No orders found.",
                counter_offer: "Counter Offer",
                proposal_sent: "Proposal sent to buyer.",
                search_placeholder: "Search Order ID or Buyer...",
                search_market_placeholder: "Search crops, buyers...",
                completed: "Completed",
                cancelled: "Cancelled"
            },
            hi: {
                app_subtitle: "‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡•Å‡§á‡§ü",
                nav_dashboard: "‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
                nav_market: "‡§¨‡§æ‡§ú‡§º‡§æ‡§∞",
                nav_orders: "‡§ë‡§∞‡•ç‡§°‡§∞‡•ç‡§∏",
                nav_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤",
                mandi_live: "‡§Æ‡§Ç‡§°‡•Ä ‡§≤‡§æ‡§á‡§µ",
                good_afternoon: "‡§∂‡•Å‡§≠ ‡§¶‡•ã‡§™‡§π‡§∞",
                market_insight_text: "‡§Ü‡§ú <span class='font-bold text-white'>‡§π‡§æ‡§á‡§¨‡•ç‡§∞‡§ø‡§° ‡§ü‡§Æ‡§æ‡§ü‡§∞</span> ‡§ï‡§æ ‡§¨‡§æ‡§ú‡§º‡§æ‡§∞ 12% ‡§ä‡§™‡§∞ ‡§π‡•à‡•§ ‡§¨‡•á‡§ö‡§®‡•á ‡§ï‡§æ ‡§∏‡§π‡•Ä ‡§∏‡§Æ‡§Ø‡•§",
                sunny: "‡§ß‡•Ç‡§™",
                create_listing: "‡§®‡§à ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                view_orders_btn: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                total_revenue: "‡§ï‡•Å‡§≤ ‡§ï‡§Æ‡§æ‡§à",
                live_rates: "‡§§‡§æ‡§ú‡§º‡§æ ‡§≠‡§æ‡§µ",
                see_orders: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                direct_requests: "‡§∏‡•Ä‡§ß‡•á ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß",
                verified_msg: "‡§Ü‡§™‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞",
                accept: "‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç",
                decline: "‡§Ö‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç",
                negotiations: "‡§¨‡§æ‡§§‡§ö‡•Ä‡§§",
                waiting: "‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ",
                view_history: "‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                all_stock: "‡§∏‡§≠‡•Ä ‡§∏‡•ç‡§ü‡•â‡§ï",
                vegetables: "‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Ç",
                grains: "‡§Ö‡§®‡§æ‡§ú",
                fruits: "‡§´‡§≤",
                no_listings: "‡§ï‡•ã‡§à ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä",
                order_mgmt: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®",
                track_sales: "‡§Ö‡§™‡§®‡•Ä ‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§ï‡•ã ‡§ï‡•Å‡§∂‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§",
                export_report: "‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°",
                total_orders: "‡§ï‡•Å‡§≤ ‡§ë‡§∞‡•ç‡§°‡§∞",
                lifetime_sales: "‡§ú‡•Ä‡§µ‡§®‡§ï‡§æ‡§≤ ‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä",
                pending: "‡§≤‡§Ç‡§¨‡§ø‡§§",
                requires_action: "‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§à ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï",
                tab_all: "‡§∏‡§≠‡•Ä",
                tab_pending: "‡§≤‡§Ç‡§¨‡§ø‡§§",
                tab_completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
                th_id: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§à‡§°‡•Ä",
                th_product: "‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§î‡§∞ ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞",
                th_date: "‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï",
                th_amount: "‡§∞‡§æ‡§∂‡§ø",
                th_status: "‡§∏‡•ç‡§•‡§ø‡§§‡§ø",
                th_actions: "‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§à",
                edit_cover: "‡§ï‡§µ‡§∞ ‡§¨‡§¶‡§≤‡•á‡§Ç",
                edit_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§¨‡§¶‡§≤‡•á‡§Ç",
                active_listings: "‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                buyer_rating: "‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§∞‡•á‡§ü‡§ø‡§Ç‡§ó",
                membership: "‡§∏‡§¶‡§∏‡•ç‡§Ø‡§§‡§æ",
                personal_info: "‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä",
                recent_sales: "‡§π‡§æ‡§≤ ‡§ï‡•á ‡§ë‡§∞‡•ç‡§°‡§∞ (‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä)",
                view_all_orders: "‡§∏‡§≠‡•Ä ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                my_inventory: "‡§Æ‡•á‡§∞‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶ / ‡§á‡§®‡•ç‡§µ‡•á‡§Ç‡§ü‡§∞‡•Ä",
                new_listing: "‡§®‡§à ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                publish: "‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç",
                avg_quintal: "‡§î‡§∏‡§§ / ‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤",
                verified: "‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§",
                my_stock: "‡§Æ‡•á‡§∞‡§æ ‡§∏‡•ç‡§ü‡•â‡§ï",
                view_details: "‡§µ‡§ø‡§µ‡§∞‡§£ ‡§¶‡•á‡§ñ‡•á‡§Ç",
                no_orders: "‡§ï‡•ã‡§à ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§",
                counter_offer: "‡§ú‡§µ‡§æ‡§¨‡•Ä ‡§™‡•á‡§∂‡§ï‡§∂",
                proposal_sent: "‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ ‡§≠‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ‡•§",
                search_placeholder: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§à‡§°‡•Ä ‡§Ø‡§æ ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§ñ‡•ã‡§ú‡•á‡§Ç...",
                search_market_placeholder: "‡§´‡§∏‡§≤ ‡§Ø‡§æ ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞ ‡§ñ‡•ã‡§ú‡•á‡§Ç...",
                completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
                cancelled: "‡§∞‡§¶‡•ç‡§¶"
            },
            mr: {
                app_subtitle: "‡§∂‡•á‡§§‡§ï‡§∞‡•Ä ‡§∏‡•Å‡§á‡§ü",
                nav_dashboard: "‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
                nav_market: "‡§¨‡§æ‡§ú‡§æ‡§∞",
                nav_orders: "‡§ë‡§∞‡•ç‡§°‡§∞‡•ç‡§∏",
                nav_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤",
                mandi_live: "‡§Æ‡§Ç‡§°‡•Ä ‡§≤‡§æ‡§á‡§µ",
                good_afternoon: "‡§∂‡•Å‡§≠ ‡§¶‡•Å‡§™‡§æ‡§∞",
                market_insight_text: "‡§Ü‡§ú <span class='font-bold text-white'>‡§π‡§æ‡§Ø‡§¨‡•ç‡§∞‡§ø‡§° ‡§ü‡•ã‡§Æ‡•Ö‡§ü‡•ã</span> ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü 12% ‡§µ‡§∞ ‡§Ü‡§π‡•á. ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä‡§ö‡•Ä ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§µ‡•á‡§≥.",
                sunny: "‡§∏‡•Ç‡§∞‡•ç‡§Ø‡§™‡•ç‡§∞‡§ï‡§æ‡§∂",
                create_listing: "‡§®‡§µ‡•Ä‡§® ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                view_orders_btn: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡§π‡§æ",
                total_revenue: "‡§è‡§ï‡•Ç‡§£ ‡§Æ‡§π‡§∏‡•Ç‡§≤",
                live_rates: "‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§≠‡§æ‡§µ",
                see_orders: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡§π‡§æ",
                direct_requests: "‡§•‡•á‡§ü ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞ ‡§µ‡§ø‡§®‡§Ç‡§§‡•ç‡§Ø‡§æ",
                verified_msg: "‡§Ü‡§™‡§≤‡•ç‡§Ø‡§æ ‡§™‡§ø‡§ï‡§æ‡§∏‡§æ‡§†‡•Ä ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞",
                accept: "‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞‡§æ",
                decline: "‡§®‡§ï‡§æ‡§∞‡§æ",
                negotiations: "‡§µ‡§æ‡§ü‡§æ‡§ò‡§æ‡§ü‡•Ä",
                waiting: "‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ",
                view_history: "‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§™‡§π‡§æ",
                all_stock: "‡§∏‡§∞‡•ç‡§µ ‡§∏‡§æ‡§†‡§æ",
                vegetables: "‡§≠‡§æ‡§ú‡•ç‡§Ø‡§æ",
                grains: "‡§ß‡§æ‡§®‡•ç‡§Ø",
                fruits: "‡§´‡§≥‡•á",
                no_listings: "‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§∏‡§æ‡§™‡§°‡§≤‡•Ä ‡§®‡§æ‡§π‡•Ä",
                order_mgmt: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®",
                track_sales: "‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä‡§ö‡§æ ‡§Æ‡§æ‡§ó‡•ã‡§µ‡§æ ‡§ò‡•ç‡§Ø‡§æ.",
                export_report: "‡§Ö‡§π‡§µ‡§æ‡§≤ ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°",
                total_orders: "‡§è‡§ï‡•Ç‡§£ ‡§ë‡§∞‡•ç‡§°‡§∞",
                lifetime_sales: "‡§è‡§ï‡•Ç‡§£ ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä",
                pending: "‡§™‡•ç‡§∞‡§≤‡§Ç‡§¨‡§ø‡§§",
                requires_action: "‡§ï‡•É‡§§‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï",
                tab_all: "‡§∏‡§∞‡•ç‡§µ",
                tab_pending: "‡§™‡•ç‡§∞‡§≤‡§Ç‡§¨‡§ø‡§§",
                tab_completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
                th_id: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§Ø‡§°‡•Ä",
                th_product: "‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§Ü‡§£‡§ø ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞",
                th_date: "‡§§‡§æ‡§∞‡•Ä‡§ñ",
                th_amount: "‡§∞‡§ï‡•ç‡§ï‡§Æ",
                th_status: "‡§∏‡•ç‡§•‡§ø‡§§‡•Ä",
                th_actions: "‡§ï‡•É‡§§‡•Ä",
                edit_cover: "‡§ï‡§µ‡•ç‡§π‡§∞ ‡§¨‡§¶‡§≤‡§æ",
                edit_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§æ",
                active_listings: "‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                buyer_rating: "‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞ ‡§∞‡•á‡§ü‡§ø‡§Ç‡§ó",
                membership: "‡§∏‡§¶‡§∏‡•ç‡§Ø‡§§‡•ç‡§µ",
                personal_info: "‡§µ‡•à‡§Ø‡§ï‡•ç‡§§‡§ø‡§ï ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä",
                recent_sales: "‡§Ö‡§≤‡•Ä‡§ï‡§°‡•Ä‡§≤ ‡§ë‡§∞‡•ç‡§°‡§∞ (‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä)",
                view_all_orders: "‡§∏‡§∞‡•ç‡§µ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡§π‡§æ",
                my_inventory: "‡§Æ‡§æ‡§ù‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® / ‡§∏‡§æ‡§†‡§æ",
                new_listing: "‡§®‡§µ‡•Ä‡§® ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó",
                publish: "‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§ø‡§§ ‡§ï‡§∞‡§æ",
                avg_quintal: "‡§∏‡§∞‡§æ‡§∏‡§∞‡•Ä / ‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤",
                verified: "‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§",
                my_stock: "‡§Æ‡§æ‡§ù‡§æ ‡§∏‡§æ‡§†‡§æ",
                view_details: "‡§§‡§™‡§∂‡•Ä‡§≤ ‡§™‡§π‡§æ",
                no_orders: "‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§æ‡§™‡§°‡§≤‡•á ‡§®‡§æ‡§π‡•Ä‡§§.",
                counter_offer: "‡§™‡•ç‡§∞‡§§‡§ø ‡§ë‡§´‡§∞",
                proposal_sent: "‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ ‡§™‡§æ‡§†‡§µ‡§≤‡§æ.",
                search_placeholder: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§Ø‡§°‡•Ä ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞ ‡§∂‡•ã‡§ß‡§æ...",
                search_market_placeholder: "‡§™‡•Ä‡§ï ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§ñ‡§∞‡•á‡§¶‡•Ä‡§¶‡§æ‡§∞ ‡§∂‡•ã‡§ß‡§æ...",
                completed: "‡§™‡•Ç‡§∞‡•ç‡§£",
                cancelled: "‡§∞‡§¶‡•ç‡§¶"
            },
            kn: {
                app_subtitle: "‡≤∞‡≥à‡≤§ ‡≤Æ‡≤ø‡≤§‡≥ç‡≤∞",
                nav_dashboard: "‡≤°‡≥ç‡≤Ø‡≤æ‡≤∂‡≥ç‚Äå‡≤¨‡≥ã‡≤∞‡≥ç‡≤°‡≥ç",
                nav_market: "‡≤Æ‡≤æ‡≤∞‡≥Å‡≤ï‡≤ü‡≥ç‡≤ü‡≥Ü",
                nav_orders: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≥Å",
                nav_profile: "‡≤™‡≥ç‡≤∞‡≥ä‡≤´‡≥à‡≤≤‡≥ç",
                mandi_live: "‡≤Æ‡≤Ç‡≤°‡≤ø ‡≤≤‡≥à‡≤µ‡≥ç",
                good_afternoon: "‡≤∂‡≥Å‡≤≠ ‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤æ‡≤π‡≥ç‡≤®",
                market_insight_text: "‡≤á‡≤Ç‡≤¶‡≥Å <span class='font-bold text-white'>‡≤π‡≥à‡≤¨‡≥ç‡≤∞‡≤ø‡≤°‡≥ç ‡≤ü‡≥ä‡≤Æ‡≥Ü‡≤ü‡≥ä</span> ‡≤Æ‡≤æ‡≤∞‡≥Å‡≤ï‡≤ü‡≥ç‡≤ü‡≥Ü 12% ‡≤è‡≤∞‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤∏‡≥Ç‡≤ï‡≥ç‡≤§ ‡≤∏‡≤Æ‡≤Ø.",
                sunny: "‡≤¨‡≤ø‡≤∏‡≤ø‡≤≤‡≥Å",
                create_listing: "‡≤π‡≥ä‡≤∏ ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø",
                view_orders_btn: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≥Å",
                total_revenue: "‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Ü‡≤¶‡≤æ‡≤Ø",
                live_rates: "‡≤¶‡≤∞‡≤ó‡≤≥‡≥Å",
                see_orders: "‡≤®‡≥ã‡≤°‡≤ø",
                direct_requests: "‡≤®‡≥á‡≤∞ ‡≤¨‡≥á‡≤°‡≤ø‡≤ï‡≥Ü‡≤ó‡≤≥‡≥Å",
                verified_msg: "‡≤¶‡≥É‡≤¢‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø‡≤¶ ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤¶‡≤æ‡≤∞‡≤∞‡≥Å",
                accept: "‡≤í‡≤™‡≥ç‡≤™‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø",
                decline: "‡≤§‡≤ø‡≤∞‡≤∏‡≥ç‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø",
                negotiations: "‡≤ö‡≥å‡≤ï‡≤æ‡≤∂‡≤ø",
                waiting: "‡≤®‡≤ø‡≤∞‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥Ü",
                view_history: "‡≤á‡≤§‡≤ø‡≤π‡≤æ‡≤∏",
                all_stock: "‡≤é‡≤≤‡≥ç‡≤≤‡≤æ",
                vegetables: "‡≤§‡≤∞‡≤ï‡≤æ‡≤∞‡≤ø",
                grains: "‡≤ß‡≤æ‡≤®‡≥ç‡≤Ø",
                fruits: "‡≤π‡≤£‡≥ç‡≤£‡≥Å",
                no_listings: "‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø ‡≤á‡≤≤‡≥ç‡≤≤",
                order_mgmt: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≥Ü",
                track_sales: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ü‡≥ç‡≤∞‡≥ç‡≤Ø‡≤æ‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø.",
                export_report: "‡≤µ‡≤∞‡≤¶‡≤ø ‡≤°‡≥å‡≤®‡≥ç‚Äå‡≤≤‡≥ã‡≤°‡≥ç",
                total_orders: "‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≥Å",
                lifetime_sales: "‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü",
                pending: "‡≤¨‡≤æ‡≤ï‡≤ø ‡≤á‡≤¶‡≥Ü",
                requires_action: "‡≤ó‡≤Æ‡≤®‡≤π‡≤∞‡≤ø‡≤∏‡≤ø",
                tab_all: "‡≤é‡≤≤‡≥ç‡≤≤‡≤æ",
                tab_pending: "‡≤¨‡≤æ‡≤ï‡≤ø",
                tab_completed: "‡≤™‡≥Ç‡≤∞‡≥ç‡≤£‡≤ó‡≥ä‡≤Ç‡≤°‡≤ø‡≤¶‡≥Ü",
                th_id: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç ID",
                th_product: "‡≤â‡≤§‡≥ç‡≤™‡≤®‡≥ç‡≤® ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤¶‡≤æ‡≤∞",
                th_date: "‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï",
                th_amount: "‡≤Æ‡≥ä‡≤§‡≥ç‡≤§",
                th_status: "‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø",
                th_actions: "‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü",
                edit_cover: "‡≤ï‡≤µ‡≤∞‡≥ç ‡≤¨‡≤¶‡≤≤‡≤ø‡≤∏‡≤ø",
                edit_profile: "‡≤™‡≥ç‡≤∞‡≥ä‡≤´‡≥à‡≤≤‡≥ç ‡≤§‡≤ø‡≤¶‡≥ç‡≤¶‡≤ø",
                active_listings: "‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø‡≤ó‡≤≥‡≥Å",
                buyer_rating: "‡≤∞‡≥á‡≤ü‡≤ø‡≤Ç‡≤ó‡≥ç",
                membership: "‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ",
                personal_info: "‡≤µ‡≥à‡≤Ø‡≤ï‡≥ç‡≤§‡≤ø‡≤ï ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø",
                recent_sales: "‡≤á‡≤§‡≥ç‡≤§‡≥Ä‡≤ö‡≤ø‡≤® ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü",
                view_all_orders: "‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≥Å",
                my_inventory: "‡≤®‡≤®‡≥ç‡≤® ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≥Å / ‡≤¶‡≤æ‡≤∏‡≥ç‡≤§‡≤æ‡≤®‡≥Å",
                new_listing: "‡≤π‡≥ä‡≤∏ ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø",
                publish: "‡≤™‡≥ç‡≤∞‡≤ï‡≤ü‡≤ø‡≤∏‡≤ø",
                avg_quintal: "‡≤∏‡≤∞‡≤æ‡≤∏‡≤∞‡≤ø / ‡≤ï‡≥ç‡≤µ‡≤ø‡≤Ç‡≤ü‡≤æ‡≤≤‡≥ç",
                verified: "‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü",
                my_stock: "‡≤®‡≤®‡≥ç‡≤® ‡≤¶‡≤æ‡≤∏‡≥ç‡≤§‡≤æ‡≤®‡≥Å",
                view_details: "‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≥Å",
                no_orders: "‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≤ø‡≤≤‡≥ç‡≤≤.",
                counter_offer: "‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤¨‡≥Ü‡≤≤‡≥Ü",
                proposal_sent: "‡≤™‡≥ç‡≤∞‡≤∏‡≥ç‡≤§‡≤æ‡≤™ ‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü.",
                search_placeholder: "‡≤Ü‡≤∞‡≥ç‡≤°‡≤∞‡≥ç ID ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤¶‡≤æ‡≤∞‡≤®‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Å‡≤°‡≥Å‡≤ï‡≤ø...",
                search_market_placeholder: "‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤¶‡≤æ‡≤∞‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Å‡≤°‡≥Å‡≤ï‡≤ø...",
                completed: "‡≤™‡≥Ç‡≤∞‡≥ç‡≤£‡≤ó‡≥ä‡≤Ç‡≤°‡≤ø‡≤¶‡≥Ü",
                cancelled: "‡≤∞‡≤¶‡≥ç‡≤¶‡≥Å‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü"
            }
        };
        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderPrices();
            renderListings();
            renderProfileOrders();
            renderFullOrderSummary();
            updateProfileUI();
            updateTranslations();
            // Global Click Listener for Menu Closing
            window.addEventListener('click', function(e) {
                const btn = document.getElementById('lang-btn');
                const menu = document.getElementById('lang-menu');
                const arrow = document.getElementById('lang-arrow');
                if (btn && menu && !btn.contains(e.target) && !menu.contains(e.target)) {
                    menu.classList.add('hidden');
                    if(arrow) arrow.classList.remove('rotate-180');
                }
            });
        });
        // --- Helper Function for Translation ---
        function t(key) {
            return translations[state.currentLang][key] || key;
        }
        // Helper to translate product names within strings
        function tProduct(text) {
            if (state.currentLang === 'en') return text;
            let translatedText = text;
            Object.keys(product_names).forEach(engName => {
                if (translatedText.includes(engName)) {
                    const trans = product_names[engName][state.currentLang];
                    if (trans) {
                        // Case insensitive replacement
                        const regex = new RegExp(engName, 'gi');
                        translatedText = translatedText.replace(regex, trans);
                    }
                }
            });
            return translatedText;
        }
        // --- Language Logic ---
        function toggleLangMenu(event) {
            event.stopPropagation();
            const menu = document.getElementById('lang-menu');
            const arrow = document.getElementById('lang-arrow');
            menu.classList.toggle('hidden');
            arrow.classList.toggle('rotate-180');
        }
        function changeLanguage(lang) {
            state.currentLang = lang;
            updateTranslations();
            // Re-render dynamic components
            renderPrices();
            renderListings(); 
            renderProfileOrders();
            renderFullOrderSummary(); 
            // Update Dropdown Label
            const labels = { 'en': 'English', 'hi': '‡§π‡§ø‡§Ç‡§¶‡•Ä', 'mr': '‡§Æ‡§∞‡§æ‡§†‡•Ä', 'kn': '‡≤ï‡≤®‡≥ç‡≤®‡≤°' };
            document.getElementById('current-lang-label').innerText = labels[lang];
            // Update Checkmarks visually
            document.querySelectorAll('[id^="check-"]').forEach(el => el.classList.remove('opacity-100'));
            document.querySelectorAll('[id^="check-"]').forEach(el => el.classList.add('opacity-0'));
            const activeCheck = document.getElementById(`check-${lang}`);
            if(activeCheck) {
                activeCheck.classList.remove('opacity-0');
                activeCheck.classList.add('opacity-100');
            }
            // Close Menu
            const menu = document.getElementById('lang-menu');
            const arrow = document.getElementById('lang-arrow');
            menu.classList.add('hidden');
            arrow.classList.remove('rotate-180');
        }
        function updateTranslations() {
            // Update text content
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(el => {
                const key = el.getAttribute('data-translate');
                if (translations[state.currentLang][key]) {
                    el.innerHTML = translations[state.currentLang][key];
                }
            });
            // Update placeholders
            const inputs = document.querySelectorAll('[data-translate-placeholder]');
            inputs.forEach(el => {
                const key = el.getAttribute('data-translate-placeholder');
                if (translations[state.currentLang][key]) {
                    el.placeholder = translations[state.currentLang][key];
                }
            });
        }
        // --- Navigation Logic ---
        function switchTab(tabId) {
            // Hide all sections
            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.remove('active');
            });
            // Show target
            const target = document.getElementById(tabId);
            if(target) target.classList.add('active');
            // Desktop Nav Update
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('nav-active', 'bg-slate-100');
            });
            const activeDesktop = document.getElementById(`nav-${tabId}`);
            if(activeDesktop) activeDesktop.classList.add('nav-active');
            // Mobile Nav Update
            document.querySelectorAll('.mob-nav-btn').forEach(el => {
                el.classList.remove('mob-active', 'text-brand-700');
                el.classList.add('text-slate-400');
            });
            const activeMobile = document.getElementById(`mob-${tabId}`);
            if(activeMobile) {
                activeMobile.classList.remove('text-slate-400');
                activeMobile.classList.add('mob-active', 'text-brand-700');
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        // --- Data Rendering ---
        function renderPrices() {
            const container = document.getElementById('hero-price-ticker');
            if(!container) return;
            container.innerHTML = state.marketPrices.map(item => {
                const isUp = item.trend === 'up';
                const isDown = item.trend === 'down';
                const colorClass = isUp ? 'text-green-600 bg-green-50' : (isDown ? 'text-red-600 bg-red-50' : 'text-slate-500 bg-slate-50');
                const icon = isUp ? 'fa-caret-up' : (isDown ? 'fa-caret-down' : 'fa-minus');
                return `
                <div class="flex items-center justify-between p-3 rounded-xl hover:bg-slate-50 transition-colors border-b border-dashed border-slate-100 last:border-0 group">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-lg ${colorClass} flex items-center justify-center text-xs">
                             <i class="fa-solid ${icon}"></i>
                        </div>
                        <div>
                            <p class="font-bold text-slate-800 text-sm leading-tight group-hover:text-brand-700 transition-colors">${tProduct(item.name)}</p>
                            <p class="text-[10px] text-slate-400 font-bold uppercase tracking-wider">‚Çπ${item.price} / Qtl</p>
                        </div>
                    </div>
                    <span class="text-xs font-bold ${isUp ? 'text-green-600' : (isDown ? 'text-red-600' : 'text-slate-400')}">
                        ${isUp ? '+' : ''}${item.change}%
                    </span>
                </div>
                `;
            }).join('');
        }
        function renderProfileOrders() {
            const container = document.getElementById('orders-list');
            if(!container) return;
            container.innerHTML = state.orders.map(order => {
                let displayStatus = order.status;
                if(order.status === 'Completed') displayStatus = t('completed');
                else if(order.status === 'Pending') displayStatus = t('pending');
                return `
                <div class="flex items-center justify-between p-3 rounded-xl bg-earth-50 border border-transparent hover:border-earth-200 transition-all">
                    <div>
                        <p class="font-bold text-slate-800 text-sm">${tProduct(order.item)}</p>
                        <p class="text-[10px] text-slate-500 font-bold tracking-wide">${order.buyer}</p>
                    </div>
                    <div class="text-right">
                        <p class="font-bold text-slate-900 text-sm">‚Çπ${order.amount.toLocaleString()}</p>
                        <span class="text-[9px] font-bold uppercase tracking-wider ${order.status === 'Completed' ? 'text-green-600' : 'text-amber-600'}">${displayStatus}</span>
                    </div>
                </div>
            `}).join('');
        }
        function renderFullOrderSummary(filterStatus = 'All', filterText = '') {
            const container = document.getElementById('full-order-table-body');
            if(!container) return;
            let filtered = state.orders;
            // Apply Status Filter
            if (filterStatus !== 'All') {
                filtered = filtered.filter(o => o.status === filterStatus);
            }
            // Apply Search Filter
            if (filterText) {
                const lower = filterText.toLowerCase();
                filtered = filtered.filter(o => 
                    o.id.toLowerCase().includes(lower) || 
                    o.buyer.toLowerCase().includes(lower) ||
                    o.item.toLowerCase().includes(lower)
                );
            }
            if (filtered.length === 0) {
                container.innerHTML = `
                    <tr>
                        <td colspan="6" class="py-12 text-center">
                            <div class="flex flex-col items-center justify-center text-slate-300">
                                <i class="fa-solid fa-box-open text-4xl mb-3"></i>
                                <p class="text-sm font-bold text-slate-500">${t('no_orders')}</p>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }
            container.innerHTML = filtered.map(order => {
                const statusStyles = {
                    'Completed': 'bg-green-100 text-green-700 border-green-200 icon-check',
                    'Pending': 'bg-amber-100 text-amber-700 border-amber-200 icon-clock',
                    'Cancelled': 'bg-red-100 text-red-700 border-red-200 icon-xmark'
                };
                const style = statusStyles[order.status] || 'bg-slate-100 text-slate-600';
                const icon = order.status === 'Completed' ? 'fa-check' : (order.status === 'Pending' ? 'fa-clock' : 'fa-xmark');
                let displayStatus = order.status;
                if(order.status === 'Completed') displayStatus = t('completed');
                else if(order.status === 'Pending') displayStatus = t('pending');
                else if(order.status === 'Cancelled') displayStatus = t('cancelled');
                return `
                <tr class="hover:bg-brand-50/30 transition-colors group">
                    <td class="py-4 pl-6 font-bold text-brand-600 font-mono text-xs">${order.id}</td>
                    <td class="py-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-xl bg-earth-100 flex items-center justify-center text-lg shadow-sm group-hover:scale-110 transition-transform">
                                ${order.category === 'vegetable' ? 'üçÖ' : (order.category === 'fruit' ? 'üçä' : 'üåæ')}
                            </div>
                            <div>
                                <p class="font-bold text-slate-900">${tProduct(order.item)}</p>
                                <div class="flex items-center gap-1.5 text-xs text-slate-500">
                                    <span class="font-bold text-slate-700">${order.buyer}</span>
                                    <span class="w-1 h-1 rounded-full bg-slate-300"></span>
                                    <span>${order.qty}</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td class="py-4 text-slate-500 text-xs font-bold">${order.date}</td>
                    <td class="py-4 font-bold text-slate-900">‚Çπ${order.amount.toLocaleString()}</td>
                    <td class="py-4">
                        <span class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold border ${style} uppercase tracking-wide">
                            <i class="fa-solid ${icon}"></i> ${displayStatus}
                        </span>
                    </td>
                    <td class="py-4 pr-6 text-right">
                        <button class="w-8 h-8 rounded-lg border border-slate-200 text-slate-400 hover:text-brand-600 hover:border-brand-200 hover:bg-white hover:shadow-sm transition-all flex items-center justify-center bg-slate-50" title="${t('view_details')}">
                            <i class="fa-solid fa-angle-right"></i>
                        </button>
                    </td>
                </tr>
                `;
            }).join('');
        }
        function renderListings(filterText = '', category = 'all') {
            const container = document.getElementById('marketplace-grid');
            const noResults = document.getElementById('no-results');
            // Filter Logic
            const filtered = state.listings.filter(item => {
                const matchesSearch = item.name.toLowerCase().includes(filterText.toLowerCase()) || 
                                    item.farmer.toLowerCase().includes(filterText.toLowerCase());
                const matchesCat = category === 'all' || item.category === category;
                return matchesSearch && matchesCat;
            });
            if (filtered.length === 0) {
                container.innerHTML = '';
                noResults.classList.remove('hidden');
                return;
            } else {
                noResults.classList.add('hidden');
            }
            container.innerHTML = filtered.map(item => `
                <div class="bg-white rounded-[2rem] overflow-hidden border border-earth-100 shadow-card group hover:translate-y-[-5px] transition-transform duration-300 flex flex-col h-full hover:shadow-depth">
                    <div class="relative h-56 overflow-hidden">
                        <img src="${item.img}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" alt="${item.name}">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-60"></div>
                        <div class="absolute top-4 right-4 bg-white/95 backdrop-blur px-3 py-1.5 rounded-xl text-xs font-bold text-slate-900 shadow-sm border border-white/20">
                            ‚Çπ${item.price}/kg
                        </div>
                        ${item.verified ? `<div class="absolute bottom-4 left-4 bg-green-500/90 backdrop-blur text-white text-[10px] font-bold px-2.5 py-1 rounded-lg flex items-center gap-1 shadow-sm"><i class="fa-solid fa-certificate"></i> ${t('verified')}</div>` : ''}
                        ${item.isMine ? `<div class="absolute top-4 left-4 bg-brand-600/90 backdrop-blur text-white text-[10px] font-bold px-2.5 py-1 rounded-lg shadow-sm">${t('my_stock')}</div>` : ''}
                    </div>
                    <div class="p-6 flex flex-col flex-1">
                        <div class="mb-4">
                            <h3 class="font-bold text-slate-900 text-lg leading-tight line-clamp-1 group-hover:text-brand-700 transition-colors">${tProduct(item.name)}</h3>
                            <p class="text-xs text-slate-500 mt-1 font-medium flex items-center"><i class="fa-solid fa-location-dot mr-1.5 text-brand-500"></i> ${item.loc}</p>
                        </div>
                        <div class="mt-auto pt-4 border-t border-earth-100 flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-9 h-9 rounded-full bg-earth-100 flex items-center justify-center text-xs font-bold text-slate-600 border border-earth-200 shadow-sm">
                                    ${item.farmer.charAt(0)}
                                </div>
                                <div>
                                    <p class="text-xs font-bold text-slate-800 line-clamp-1">${item.farmer}</p>
                                    <p class="text-[10px] text-slate-400 font-bold uppercase tracking-wider">${item.time}</p>
                                </div>
                            </div>
                            <button onclick="contactFarmer('${item.name}')" class="bg-earth-50 text-slate-400 border border-earth-200 hover:bg-brand-600 hover:text-white hover:border-brand-600 transition-colors w-10 h-10 rounded-xl flex items-center justify-center">
                                <i class="fa-solid fa-phone text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            // Also update Profile History
            renderProfileHistory();
        }
        // --- Marketplace Filters ---
        function filterMarketplace() {
            const searchVal = document.getElementById('market-search').value;
            // Simplified: Reset filters to 'all' visually if searching, for this demo
            // In a real app, we'd keep track of active category state
            renderListings(searchVal, 'all'); 
            document.querySelectorAll('.market-filter').forEach(btn => {
                btn.classList.remove('active', 'bg-brand-900', 'text-white');
                btn.classList.add('bg-white', 'text-slate-600');
                if(btn.innerText.includes("All") || btn.innerText.includes("‡§∏‡§≠‡•Ä") || btn.innerText.includes("‡§∏‡§∞‡•ç‡§µ") || btn.innerText.includes("‡≤é‡≤≤‡≥ç‡≤≤‡≤æ")) {
                     btn.classList.add('active', 'bg-brand-900', 'text-white');
                     btn.classList.remove('bg-white', 'text-slate-600');
                }
            });
        }
        function filterCategory(cat) {
            const searchVal = document.getElementById('market-search').value;
            renderListings(searchVal, cat);
            // Update Button Styles
            document.querySelectorAll('.market-filter').forEach(btn => {
                btn.classList.remove('active', 'bg-brand-900', 'text-white');
                btn.classList.add('bg-white', 'text-slate-600');
            });
            event.target.classList.add('active', 'bg-brand-900', 'text-white');
            event.target.classList.remove('bg-white', 'text-slate-600');
        }
        // --- Profile Logic ---
        function updateProfileUI() {
            document.querySelectorAll('.user-name-display').forEach(el => el.innerText = state.user.name);
            document.querySelectorAll('.user-email-display').forEach(el => el.innerText = state.user.email);
            document.querySelectorAll('.user-phone-display').forEach(el => el.innerText = state.user.phone);
            document.querySelectorAll('.user-address-display').forEach(el => el.innerText = state.user.address);
            document.querySelectorAll('.user-farm-display').forEach(el => {
                // Keep the icon if it exists inside
                const icon = el.querySelector('i');
                el.innerText = ` ${state.user.farmName} ‚Ä¢ ${state.user.location}`;
                if(icon) el.prepend(icon);
            });
            // Pre-fill inputs
            document.getElementById('edit-name').value = state.user.name;
            document.getElementById('edit-farm').value = state.user.farmName;
            document.getElementById('edit-location').value = state.user.location;
            document.getElementById('edit-phone').value = state.user.phone;
            // Count Listings
            const myCount = state.listings.filter(l => l.isMine).length;
            document.getElementById('profile-listings-count').innerText = myCount;
        }
        function renderProfileHistory() {
            const myListings = state.listings.filter(l => l.isMine);
            const container = document.getElementById('profile-history-list');
            if(myListings.length === 0) {
                container.innerHTML = '<div class="col-span-2 text-center py-8 text-slate-400 italic">No inventory listed yet.</div>';
                return;
            }
            container.innerHTML = myListings.map(item => `
                <div class="flex items-center gap-4 bg-white p-4 rounded-2xl border border-earth-100 shadow-sm hover:shadow-md transition-shadow group">
                    <img src="${item.img}" class="w-16 h-16 rounded-xl object-cover" alt="thumb">
                    <div class="flex-1">
                        <h4 class="font-bold text-slate-900 text-sm">${tProduct(item.name)}</h4>
                        <div class="flex items-center gap-3 mt-1">
                            <span class="text-xs text-slate-500 font-medium bg-earth-50 px-2 py-0.5 rounded">${item.qty}</span>
                            <span class="text-xs text-brand-700 font-bold">‚Çπ${item.price}/kg</span>
                        </div>
                    </div>
                    <button class="w-8 h-8 rounded-lg text-slate-400 hover:text-red-500 hover:bg-red-50 transition-colors flex items-center justify-center">
                        <i class="fa-solid fa-trash-can"></i>
                    </button>
                </div>
            `).join('');
        }
        function toggleEditProfile() {
            const form = document.getElementById('edit-profile-form');
            form.classList.toggle('hidden');
        }
        function saveProfile() {
            state.user.name = document.getElementById('edit-name').value;
            state.user.farmName = document.getElementById('edit-farm').value;
            state.user.location = document.getElementById('edit-location').value;
            state.user.phone = document.getElementById('edit-phone').value;
            updateProfileUI();
            toggleEditProfile();
            showToast('Profile updated successfully!');
        }
        function filterOrders(status) {
            // Update UI Tabs
            document.querySelectorAll('.order-tab').forEach(btn => {
                btn.classList.remove('active', 'bg-slate-900', 'text-white', 'shadow-md');
                btn.classList.add('text-slate-500');
            });
            const activeBtn = document.getElementById(`tab-${status}`);
            activeBtn.classList.add('active', 'bg-slate-900', 'text-white', 'shadow-md');
            activeBtn.classList.remove('text-slate-500');
            // Filter Data
            const searchVal = document.getElementById('order-search').value;
            renderFullOrderSummary(status, searchVal);
        }
        function searchOrders() {
            const searchVal = document.getElementById('order-search').value;
            // Get active tab status
            let activeStatus = 'All';
            document.querySelectorAll('.order-tab').forEach(btn => {
                if(btn.classList.contains('active')) activeStatus = btn.id.split('-')[1];
            });
            renderFullOrderSummary(activeStatus, searchVal);
        }
        // --- Interaction Logic ---
        function handleRequest(elementId, action) {
            const el = document.getElementById(elementId);
            el.style.transform = 'translateX(100%)';
            el.style.opacity = '0';
            setTimeout(() => {
                el.style.display = 'none';
                // Check if empty
                const container = document.getElementById('requests-container');
                // Simple check for demo purposes
                let visible = 0;
                Array.from(container.children).forEach(c => {
                    if(c.style.display !== 'none') visible++;
                });
                if(visible === 0) {
                    container.innerHTML = '<div class="p-8 text-center text-slate-400 text-sm font-medium border-2 border-dashed border-earth-100 rounded-2xl">No active requests at the moment.</div>';
                }
            }, 300);
            showToast(`Request ${action}.`);
        }
        function contactFarmer(itemName) {
            showToast(`Calling owner...`);
        }
        // --- Modal Logic ---
        function openModal() {
            const modal = document.getElementById('listingModal');
            const backdrop = document.getElementById('modalBackdrop');
            const content = document.getElementById('modalContent');
            modal.classList.remove('hidden');
            setTimeout(() => {
                backdrop.classList.remove('opacity-0');
                content.classList.remove('opacity-0', 'translate-y-full');
                if(window.innerWidth >= 768) content.classList.remove('md:translate-y-10'); 
            }, 10);
        }
        function closeModal() {
            const modal = document.getElementById('listingModal');
            const backdrop = document.getElementById('modalBackdrop');
            const content = document.getElementById('modalContent');
            backdrop.classList.add('opacity-0');
            content.classList.add('opacity-0', 'translate-y-full');
            if(window.innerWidth >= 768) content.classList.add('md:translate-y-10'); 
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }
        function submitListing() {
            const name = document.getElementById('itemName').value;
            const price = document.getElementById('itemPrice').value;
            const qty = document.getElementById('itemQty').value;
            const cat = document.getElementById('itemCat').value;
            if(!name || !price || !qty) {
                showToast('Please fill all fields', 'Error');
                return;
            }
            // Add to State
            state.listings.unshift({
                id: Date.now(),
                name: name,
                category: cat,
                price: price,
                qty: qty + ' kg',
                farmer: state.user.name,
                loc: 'Pune, MH', // Default for demo
                time: 'Just now',
                img: 'https://images.unsplash.com/photo-1615484477778-ca3b77940c25?auto=format&fit=crop&q=80&w=600',
                verified: true,
                isMine: true
            });
            // Refresh Views
            renderListings();
            updateProfileUI(); // Update count
            closeModal();
            // Show Success
            showToast('Your produce is live! üöÄ');
            setTimeout(() => switchTab('marketplace'), 500);
            // Reset form
            document.getElementById('itemName').value = '';
            document.getElementById('itemPrice').value = '';
            document.getElementById('itemQty').value = '';
        }
        function showToast(message, title='Success') {
            const toast = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = message;
            document.getElementById('toast-title').innerText = title;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>